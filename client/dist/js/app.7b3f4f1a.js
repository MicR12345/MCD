(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(i=!1)}i&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},o={app:0},n=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";var i=a("85ec"),o=a.n(i);o.a},"0c32":function(t,e,a){},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},"16f1":function(t,e,a){},2:function(t,e){},"2bb4":function(t,e,a){"use strict";var i=a("7b05"),o=a.n(i);o.a},3:function(t,e){},"33a6":function(t,e,a){},"386c":function(t,e,a){},"3d55":function(t,e,a){"use strict";var i=a("16f1"),o=a.n(i);o.a},4:function(t,e){},"435a":function(t,e,a){"use strict";var i=a("9604"),o=a.n(i);o.a},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=n,t.exports=o,o.id="4678"},"48ad":function(t,e,a){"use strict";var i=a("7fea"),o=a.n(i);o.a},"4a69":function(t,e,a){},5:function(t,e){},"58e4":function(t,e,a){t.exports=a.p+"img/logoStretch.f5327f77.png"},"5d3a":function(t,e,a){"use strict";var i=a("0c32"),o=a.n(i);o.a},"5def":function(t,e,a){},"5eef":function(t,e,a){},6:function(t,e){},"68a1":function(t,e,a){"use strict";var i=a("4a69"),o=a.n(i);o.a},7:function(t,e){},"75cd":function(t,e,a){},"79d0":function(t,e,a){},"7b05":function(t,e,a){},"7fea":function(t,e,a){},8:function(t,e){},"85ec":function(t,e,a){},"86fa":function(t,e,a){"use strict";var i=a("386c"),o=a.n(i);o.a},"8eab":function(t,e,a){},9:function(t,e){},"91c9":function(t,e,a){"use strict";var i=a("79d0"),o=a.n(i);o.a},9604:function(t,e,a){},"9fe5":function(t,e,a){"use strict";var i=a("5def"),o=a.n(i);o.a},a0be:function(t,e,a){},a59a:function(t,e,a){},a66a:function(t,e,a){"use strict";var i=a("8eab"),o=a.n(i);o.a},ab0a:function(t,e,a){"use strict";var i=a("75cd"),o=a.n(i);o.a},b335:function(t,e,a){},b679:function(t,e,a){},bdb2:function(t,e,a){"use strict";var i=a("33a6"),o=a.n(i);o.a},ca4f:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e),a.d(e,"globalStore",(function(){return Pe}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("a026"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[1==this.$store.state.loading?a("Dropback"):t._e(),a("router-view")],1)},n=[],s=(a("b0c0"),a("2f62")),r=a("8c4f"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("div",{staticClass:"content-wrapper no-scroll",staticStyle:{"min-height":"90%"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-logo"},[t._v("Dyspozycja")]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body login-card-body"},[a("p",{staticClass:"login-box-msg"},[t._v("Logowanie")]),a("form",{staticClass:"ng-touched ng-dirty ng-valid",attrs:{novalidate:""}},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control ng-touched ng-dirty ng-valid",attrs:{type:"text",placeholder:"Nazwa użytkownika"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),t._m(0)]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control ng-dirty ng-valid ng-touched",attrs:{type:"password",placeholder:"Hasło"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(1)]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-8"},[a("button",{staticClass:"btn btn-primary btn-block btn-flat",on:{click:t.loginClicked}},[t._v("Zaloguj")])])]),t._m(2)])])])])])])]),t._m(3)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("div",{staticClass:"input-group-text"},[a("span",{staticClass:"fas fa-user"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("div",{staticClass:"input-group-text"},[a("span",{staticClass:"fas fa-lock"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-center mt-3"},[a("div",{staticClass:"col-lg-12"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"main-footer"},[a("div",{staticClass:"float-right d-none d-sm-block"},[a("b",[t._v("Wersja")]),t._v(" 0.0.1 ")]),a("strong",[t._v(" Copyright © 2021 "),a("a",{attrs:{href:"http://itm.com.pl/",target:"_blank"}},[t._v("ITM Software House")]),t._v(". ")]),t._v(" Wszelkie prawa zastrzeżone. ")])}],d=a("bc3a"),u=a.n(d),h=a("b73b"),p=a.n(h);i["a"].use(p.a);var f={data:function(){return{login:"",password:""}},components:{VueCryptojs:p.a},methods:{loginClicked:function(t){var e=this;t.preventDefault(),this.login.length>0&&this.password.length>0?(Le.commit("loadingState",!0),u.a.post("/api/authentication/login",{login:this.login,password:this.password},{}).then((function(t){var a=t.data;Le.commit("loadingState",!1);var i={user:a.user,jwt:a.jwt};Le.commit("jwt",a.jwt),Le.commit("user",a.user),e.$cookies.config({expires:"7d"}),e.$cookies.set("ITMDyspozycja",i),e.$cookies.isKey("ITMDyspozycja")&&e.$router.push({name:"MainView"})})).catch((function(t){console.log(t),Le.commit("loadingState",!1),401==t.response.status?alert("Zły login i/lub hasło"):500==t.response.status?alert("Ups... coś poszło nie tak"):alert(t)}))):alert("Login i/lub hasło są puste.")}}},m=f,g=(a("bdb2"),a("2877")),C=Object(g["a"])(m,l,c,!1,null,"bfa8b40e",null),v=C.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-scroll",staticStyle:{height:"100%",overflow:"hidden",display:"flex","flex-direction":"column"}},[a("Header"),t.addToCartData.length>0?a("Cart"):t._e(),t.showArticleModal&&t.currentArticle.ILOSC_MAX>0?a("ArticleModal"):t._e(),1==t.showOrder?a("Order"):t._e(),1==t.showArticles?a("Article"):t._e()],1)},k=[],D=(a("99af"),a("4de4"),a("c975"),a("1157"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header no-scroll"},[1==t.$parent.showOrder?a("div",[a("i",{staticClass:"fas fa-chevron-left",staticStyle:{padding:"0 20px"},on:{click:t.previousDate}}),t._v(" "+t._s(t.dateToDisplay)+" "),a("i",{staticClass:"fas fa-chevron-right",staticStyle:{padding:"0 20px"},on:{click:t.nextDate}})]):t._e(),1==t.$parent.showArticles||1==t.$parent.pageBeforeCart||1==t.$parent.pageFullCart||1==t.$parent.pageMyDispositions?a("i",{staticClass:"fas fa-arrow-left",staticStyle:{"margin-right":"10px"},on:{click:t.goBack}}):t._e(),1==t.$parent.pageMyDispositions?a("div",[t._v("Moje dyspozycje")]):t._e(),1==t.$parent.pageFullCart?a("div",[t._v("Koszyk")]):t._e(),1==t.$parent.showArticles||1==t.$parent.pageBeforeCart?a("div",[t._v(t._s(t.$parent.selectedOrder.KOD))]):t._e(),a("div",{staticClass:"user-info"},[1==t.$parent.searchIsClicked?a("span",{staticStyle:{position:"relative"}},[1==t.$parent.searchIsClicked?a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-search",staticStyle:{position:"relative"},attrs:{id:"searchInput",type:"text",autofocus:""},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){1==t.$parent.pageBeforeCart||1==t.$parent.pageFullCart||1==t.$parent.pageMyDispositions?t.$parent.onFilterTextBoxChanged(t.search):t.$parent.filterSearch(t.search)}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$parent.submitSearch(t.search)}}}):t._e(),t.search.length>0?a("i",{staticClass:"fas fa-times",on:{click:t.clear}}):t._e(),t.search.length>0&&1==t.$parent.showOrder&&t.$parent.dataSearch.length>0?a("div",{staticClass:"search-container"},t._l(t.$parent.dataSearch,(function(e){return a("div",{key:e.index,staticClass:"search-card",attrs:{value:e.index},on:{click:function(a){return t.$parent.zlecClicked(t.index,e)}}},[a("div",[t._v(t._s(e.KOD))])])})),0):t._e()]):t._e(),a("i",{staticClass:"fas fa-search",staticStyle:{padding:"0 0.7em"},on:{click:function(e){1==t.$parent.pageBeforeCart?t.searchCart(!0):t.searchClick(t.$parent.showArticles)}}}),1==t.$parent.showOrder?a("i",{staticClass:"fas fa-barcode",staticStyle:{padding:"0 0.7em"}}):t._e(),a("i",{staticClass:"fas fa-list-ul",staticStyle:{padding:"0 0.7em","margin-right":"0.7em"},on:{click:t.showMyDispositions}}),null!=t.cartCount&&t.cartCount>0&&1!=t.$parent.pageFullCart?a("span",{staticClass:"dropdown",staticStyle:{position:"relative",cursor:"pointer"},attrs:{href:"#",id:"cart",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.getCartInfo()}}},[a("div",{staticClass:"cart-info",on:{click:function(e){return t.getCartInfo()}}},[t._v(t._s(t.count))]),a("i",{staticClass:"fas fa-shopping-cart right fa",staticStyle:{cursor:"pointer"}}),a("div",{staticClass:"dropdown-menu navbar-light cart-drop",style:[null!=t.cartData?"overflow-y: hidden;":"display:none"],attrs:{"aria-labelledby":"cart"}},[null!=t.cartData?a("div",{staticClass:"dropdown-cont",staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[a("div",{staticStyle:{"overflow-y":"auto",height:"100%",flex:"1 1"},on:{click:function(e){return t.stop(e)}}},t._l(t.cartData,(function(e,i){return a("div",{key:i,staticClass:"article-card",staticStyle:{position:"relative",display:"flex","flex-direction":"row","align-items":"center"},attrs:{value:i}},[a("div",{staticStyle:{height:"100%",flex:"1 1","margin-left":".3em"}}),a("div",{staticClass:"article-desc",staticStyle:{"margin-top":"5px",width:"100%"}},[a("div",{staticClass:"card-lower article-title"},[a("div",[t._v(t._s(e.RODZAJ)+": "+t._s(e.KOD))])]),a("div",{staticClass:"article-title"},[a("span",[a("strong",[t._v(t._s(e.ELEMENT_KOD))]),t._v(" "+t._s(e.ELEMENT_NAZWA)+" ")])]),a("div",{staticClass:"quantity-change"},[a("span",[t._v(t._s(e.ILOSC))]),a("span",{staticStyle:{margin:"auto 3px","font-weight":"normal"}},[t._v(t._s(e.JEDNOSTKI_KOD))])])])])})),0),a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:1==t.$parent.pageFullCart},on:{click:t.fullWindowCartOpen}},[t._v("Pokaż koszyk")]),a("button",{staticClass:"btn btn-success",on:{click:t.confirmDispositionStart}},[t._v("Złóż dyspozycję")])])]):t._e()])]):a("span",{staticClass:"dropdown",staticStyle:{position:"relative"}},[a("div",{staticClass:"cart-info"},[t._v(t._s(t.cartCount))]),a("i",{staticClass:"fas fa-shopping-cart right fa",staticStyle:{cursor:"pointer"},attrs:{id:"cart",role:"button"}})]),a("span",{staticStyle:{margin:"0 0.7em"}},[t._v(t._s(t.$store.state.user))]),a("span",{staticClass:"dropdown"},[a("i",{staticClass:"fas fa-bars right fa",staticStyle:{cursor:"pointer"},attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),a("div",{staticClass:"dropdown-menu navbar-light",attrs:{"aria-labelledby":"navbarDropdown"}},[a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{href:"#"},on:{click:function(e){t.$parent.changePasswordClicked=!0}}},[a("i",{staticClass:"fas fa-key",staticStyle:{"margin-right":"0.5em"}}),t._v("Zmień hasło ")]),t._m(0),a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{href:"#"},on:{click:t.logout}},[a("i",{staticClass:"fas fa-power-off",staticStyle:{"margin-right":"0.5em"}}),t._v("Wyloguj ")])])])])])}),w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{href:"#"}},[a("i",{staticClass:"fas fa-cog",staticStyle:{"margin-right":"0.5em"}}),t._v("Ustawienia ")])}],A=(a("a434"),a("ac1f"),a("841c"),a("c1df")),y=a.n(A),b={name:"Header",data:function(){return{companies:null,selectedCompany:null,range:1,polling:null,update:0,search:"",dateToDisplay:new Date,cartCount:0,cartData:null,isRowSelected:null}},computed:{count:function(){return 1==this.$parent.pageFullCart?this.$parent.cartCount:this.cartCount},checkChecked:function(){return 1==this.isRowSelected}},methods:{showMyDispositions:function(){1!=this.$parent.pageMyDispositions&&this.$router.push({name:"MyDispositions"})},cartClicked:function(){console.log("cartClicked",this.$parent.pageFullCart),1!=this.$parent.pageFullCart?this.getCartInfo():this.cartData=[]},fullWindowCartOpen:function(){this.$router.push({name:"FullCart"})},clearCart:function(){var t=this;for(var e in this.cartData)u.a.delete("/api/desposition/cart/delete/".concat(this.cartData[e].MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",a),t.cartCount=parseInt(t.cartCount)-1})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}));this.cartData=[]},selectAll:function(t){for(var e in t.stopPropagation(),this.cartData)0==this.cartData[e].ZAZNACZONY&&(this.cartData[e].ZAZNACZONY=!0);this.isRowSelected=!0},deselectAll:function(t){for(var e in t.stopPropagation(),this.cartData)1==this.cartData[e].ZAZNACZONY&&(this.cartData[e].ZAZNACZONY=!1);this.isRowSelected=!1},confirmDispositionStart:function(){var t=confirm("Czy na pewno chcesz złożyć dyspozycję?");if(1==t){var e=[];for(var a in this.cartData)e.push(this.cartData[a].MCD_DYSPOZYCJE_KOSZYK_ID);this.confirmDisposition(e)}},confirmDisposition:function(t){var e=this;console.log(t),Le.commit("loadingState",!0),u.a.post("/api/desposition/cart/create/desposition",{Elements:t},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var a=t.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),alert("Dyspozycja została złożona"),e.getCartCount(),e.getCartInfo()})).catch((function(t){Le.commit("loadingState",!1),console.log(t),405==t.response.status?alert("Zła ilość. Błąd 405"):alert(t)}))},changed:function(t){console.log("changed",t),this.updateCart(t),this.checkSelected()},stop:function(t){t.stopPropagation()},searchCart:function(t){console.log("searchCart")},getCartInfo:function(){var t=this;u.a.get("/api/desposition/cart/get",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.cartData=a,t.checkSelected()})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},checkSelected:function(){for(var t in this.cartData){if(1==this.cartData[t].ZAZNACZONY){this.isRowSelected=!0;break}this.isRowSelected=!1}},getCartCount:function(){var t=this;u.a.get("/api/desposition/cart/count",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.cartCount=a})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},goBack:function(){this.search="",this.$parent.searchIsClicked=!1,this.$parent.addToCartData=[],this.$parent.dataArticle=null,1==this.$parent.showArticles&&(this.$parent.showArticles=!1,this.$parent.showOrder=!0),1!=this.$parent.pageBeforeCart&&1!=this.$parent.pageFullCart&&1!=this.$parent.pageMyDispositions||this.$router.push({name:"MainView"})},clear:function(){this.search="",1==this.$parent.showOrder||1==this.$parent.showArticles?this.$parent.filterSearch(this.search):this.$parent.onFilterTextBoxChanged(this.search),this.$nextTick((function(){document.getElementById("searchInput")&&document.getElementById("searchInput").focus()}))},previousDate:function(){this.$parent.currentDate.setDate(this.$parent.currentDate.getDate()-1),this.dateToDisplay=y()(new Date(this.$parent.currentDate)).format("YYYY-MM-DD"),this.$parent.getHeaders()},nextDate:function(){this.$parent.currentDate.setDate(this.$parent.currentDate.getDate()+1),this.dateToDisplay=y()(new Date(this.$parent.currentDate)).format("YYYY-MM-DD"),this.$parent.getHeaders()},searchClick:function(t){console.log("searchClick",t),this.search="",0==this.$parent.searchIsClicked&&0==t?this.$parent.searchClicked():1==this.$parent.searchIsClicked?this.$parent.searchIsClicked=!1:0==this.$parent.searchIsClicked&&1==t&&this.$parent.searchClickedArticle(),this.$nextTick((function(){document.getElementById("searchInput")&&document.getElementById("searchInput").focus()}))},imageClicked:function(){this.$parent.showButtons=!0,this.$parent.firstBtnClicked=!1,this.$parent.secondBtnClicked=!1,this.$parent.addToCart=[],this.$parent.showSearch=!1,this.$parent.isArchivedClicked=!1,this.$parent.isCurrentClicked=!1,this.$parent.showSecondGrid=!1,this.$parent.showMainSecondGrid=!1,this.$parent.showHeadersGrid=!1,this.search=""},searchForRecords:function(){this.$parent.getBySearch(this.search),this.search=""},logout:function(){Le.commit("user",null),Le.commit("jwt",null),Le.commit("decryptedPassword",null),Le.commit("userLogged",!1),this.$cookies.remove("ITMDyspozycja"),this.$router.push({name:"Login"})},plus:function(t,e){t.ILOSC=parseInt(t.ILOSC)+1,console.log(t.ILOSC)},minus:function(t,e){parseInt(t.ILOSC)>=1&&(t.ILOSC=parseInt(t.ILOSC)-1,0==parseInt(t.ILOSC)&&this.removeItem(t,e))},removeItem:function(t,e){var a=this;for(var i in this.cartData)this.cartData[i].MCD_DYSPOZYCJE_KOSZYK_ID==t.MCD_DYSPOZYCJE_KOSZYK_ID&&u.a.delete("/api/desposition/cart/delete/".concat(t.MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var i=t.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",i),a.cartData.splice(e,1),a.cartCount=parseInt(a.cartCount)-1})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}))},updateCart:function(t){var e=this;u.a.patch("/api/desposition/cart/update",{MCD_DYSPOZYCJE_KOSZYK_ID:t.MCD_DYSPOZYCJE_KOSZYK_ID,ILOSC:t.ILOSC,ZAZNACZONY:t.ZAZNACZONY},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var e=t.data;Le.commit("loadingState",!1),console.log("zwrotka update cart:",e)})).catch((function(a){console.log(a),e.rollbackCartUpdate(t),Le.commit("loadingState",!1),alert(a)}))},rollbackCartUpdate:function(t){for(var e in this.cartData)this.cartData[e].MCD_DYSPOZYCJE_KOSZYK_ID==t.MCD_DYSPOZYCJE_KOSZYK_ID&&(1==t.ZAZNACZONY?this.cartData[e].ZAZNACZONY=!1:this.cartData[e].ZAZNACZONY=!0)}},beforeMount:function(){this.dateToDisplay=y()(new Date(this.$parent.currentDate)).format("YYYY-MM-DD"),this.getCartCount()}},_=b,I=(a("5d3a"),Object(g["a"])(_,D,w,!1,null,"483a8f0c",null)),O=I.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"overflow-y":"auto",height:"100%"}},[a("div",{staticClass:"article-container"},t._l(t.$parent.dataArticle,(function(e,i){return a("div",{key:i,class:[1==e.added?"article-card blue":"article-card"],staticStyle:{position:"relative"},attrs:{value:i},on:{click:function(a){return t.articleClicked(i,e)}}},[a("img",{attrs:{src:[null==e.IMG?"https://via.placeholder.com/150":e.IMG]}}),a("div",{staticClass:"article-desc"},[a("div",[t._v(t._s(e.ARTYKUL_KOD)+" - "+t._s(e.ARTYKUL_OPIS))]),a("div",{staticClass:"card-lower"},[t._v(t._s(e.REALIZACJA))]),a("div",{staticClass:"card-bold",staticStyle:{position:"absolute",bottom:"0",width:"100%",height:"fit-content"}},[t._v(t._s(e.ILOSC_MAX)+" szt.")])])])})),0)])},T=[],z=new i["a"]({data:{labelsCountries:{label1:"Kraj kod",label2:"Kraj opis",label3:"UE",label4:"Natywny",label5:"Sufix",label6:"Dod. tekst",label7:"Typ",label8:""},pl:{taxColumn:"NIP",clientNameColumn:"Kontrahent",orderNumberColumn:"Zam no.",statusColumn:"Status",orderDate:"Data zam.",requiredDateColumn:"Termin",deadlineColumn:"Termin potw.",articleCode:"Artykuł kod",articleName:"Artykuł nazwa",requiredQty:"Ilość zam.",confirmedQty:"Ilość potw.",requiredDate:"Termin dost.",confirmedDate:"Termin potw.",positionsCount:"Ilość pozycji",unit:"J.m",priceNet:"Cena",valueNet:"Wartość",currency:"Waluta",description:"Uwagi",label1:"NIP",label2:"Kontrahent opis",label3:"Numer zam.",label4:"Status:",label5:"Od",label6:"Do",label7:"Artykuł kod",label8:"Artykuł opis",noFilesToDownload:"Nie ma żadnych załączników dla tego zamówienia",attachmentSuccessfullySentMsg:"Plik został wysłany na serwer dla zamówienia",attachmentsTitle:"Załączniki",addAttachment:"Dodaj",noAttachments:"Brak załączników dla zamówienia",invoiceText:"faktura",orderText:"zamówienie",otherText:"inne",fileList:"Lista załączników do pobrania: ",chooseFilesToUpload:"Wybierz lub przeciągnij i upuść plik",send:"Wyślij",attachmentsExist:"Pliki, które już istnieją na serwerze",choosenFiles:"Wybrane pliki: ",delete:"Usuń",tooLargeFile:"Przekroczono 50MB",somethingWentWrongMsg:"Ups... Coś poszło nie tak",wrongTokenMsg:"Błędny token lub token wygasł",forbiddenMsg:"Brak uprawnień",error404Msg:"Nie znaleziono",noComments:"Brak komentarzy",selectAll:"Select All",selectAllSearchResults:"Select All Search Results",searchOoo:"Search...",blanks:"Blanks",noMatches:"No matches.",filterOoo:"Filter...",equals:"Równy",notEqual:"Różny od",lessThan:"Mniej niż",greaterThan:"Więcej od",lessThanOrEqual:"Mniej lub dokładnie",greaterThanOrEqual:"Więcej lub dokładnie",inRange:"W zakresie",inRangeStart:"Od",inRangeEnd:"Do",contains:"Zawiera",notContains:"Nie zawiera",startsWith:"Zaczyna się od",endsWith:"Kończy się na",dateFormatOoo:"Yyyy-mm-dd",andCondition:"i",orCondition:"lub",applyFilter:"Apply",resetFilter:"Reset",clearFilter:"Clear",cancelFilter:"Cancel",columns:"Columns",filters:"Filters",pivotMode:"Pivot Mode",groups:"Row Groups",rowGroupColumnsEmptyMessage:"Drag here to set row groups",values:"Values",valueColumnsEmptyMessage:"Drag here to aggregate",pivots:"Column Labels",pivotColumnsEmptyMessage:"Drag here to set column labels",group:"Group",loadingOoo:"Wczytywanie...",noRowsToShow:"Brak danych",enabled:"Enabled",pinColumn:"Pin Column",pinLeft:"Pin Left",pinRight:"Pin Right",noPin:"No Pin",valueAggregation:"Value Aggregation",autosizeThiscolumn:"Autosize This Column",autosizeAllColumns:"Autosize All Columns",groupBy:"Group by",ungroupBy:"Un-Group by",resetColumns:"Reset Columns",expandAll:"Expand All",collapseAll:"Close All",copy:"Copy",ctrlC:"Ctrl+C",copyWithHeaders:"Copy With Headers",paste:"Paste",ctrlV:"Ctrl+V",export:"Export",csvExport:"CSV Export",excelExport:"Excel Export (.xlsx)",excelXmlExport:"Excel Export (.xml)",sum:"Sum",min:"Min",max:"Max",none:"None",count:"Count",avg:"Average",filteredRows:"Filtered",selectedRows:"Wybrane",totalRows:"Wszystkich wierszy",totalAndFilteredRows:"Wierszy",page:"Strona",more:"Więcej",to:"do",of:"z",next:"Następna",last:"Ostatnia",first:"Pierwsza",previous:"Poprzednia",pivotChartAndPivotMode:"Pivot Chart & Pivot Mode",pivotChart:"Pivot Chart",chartRange:"Chart Range",columnChart:"Column",groupedColumn:"Grouped",stackedColumn:"Stacked",normalizedColumn:"100% Stacked",barChart:"Bar",groupedBar:"Grouped",stackedBar:"Stacked",normalizedBar:"100% Stacked",pieChart:"Pie",pie:"Pie",doughnut:"Doughnut",line:"Line",xyChart:"X Y (Scatter)",scatter:"Scatter",bubble:"Bubble",areaChart:"Area",area:"Area",stackedArea:"Stacked",normalizedArea:"100% Stacked",histogramChart:"Histogram",pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled."},en:{selectAll:"Select All",selectAllSearchResults:"Select All Search Results",searchOoo:"Search...",blanks:"Blanks",noMatches:"No matches.",filterOoo:"Filter...",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",lessThanOrEqual:"Less than or equal",greaterThanOrEqual:"Greater than or equal",inRange:"In range",inRangeStart:"To",inRangeEnd:"From",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",dateFormatOoo:"Yyyy-mm-dd",andCondition:"AND",orCondition:"OR",applyFilter:"Apply",resetFilter:"Reset",clearFilter:"Clear",cancelFilter:"Cancel",columns:"Columns",filters:"Filters",pivotMode:"Pivot Mode",groups:"Row Groups",rowGroupColumnsEmptyMessage:"Drag here to set row groups",values:"Values",valueColumnsEmptyMessage:"Drag here to aggregate",pivots:"Column Labels",pivotColumnsEmptyMessage:"Drag here to set column labels",group:"Group",loadingOoo:"Loading...",noRowsToShow:"No Rows To Show",enabled:"Enabled",pinColumn:"Pin Column",pinLeft:"Pin Left",pinRight:"Pin Right",noPin:"No Pin",valueAggregation:"Value Aggregation",autosizeThiscolumn:"Autosize This Column",autosizeAllColumns:"Autosize All Columns",groupBy:"Group by",ungroupBy:"Un-Group by",resetColumns:"Reset Columns",expandAll:"Expand All",collapseAll:"Close All",copy:"Copy",ctrlC:"Ctrl+C",copyWithHeaders:"Copy With Headers",paste:"Paste",ctrlV:"Ctrl+V",export:"Export",csvExport:"CSV Export",excelExport:"Excel Export (.xlsx)",excelXmlExport:"Excel Export (.xml)",sum:"Sum",min:"Min",max:"Max",none:"None",count:"Count",avg:"Average",filteredRows:"Filtered",selectedRows:"Selected",totalRows:"Total Rows",totalAndFilteredRows:"Rows",page:"Page",more:"More",to:"To",of:"Of",next:"Next",last:"Last",first:"First",previous:"Previous",pivotChartAndPivotMode:"Pivot Chart & Pivot Mode",pivotChart:"Pivot Chart",chartRange:"Chart Range",columnChart:"Column",groupedColumn:"Grouped",stackedColumn:"Stacked",normalizedColumn:"100% Stacked",barChart:"Bar",groupedBar:"Grouped",stackedBar:"Stacked",normalizedBar:"100% Stacked",pieChart:"Pie",pie:"Pie",doughnut:"Doughnut",line:"Line",xyChart:"X Y (Scatter)",scatter:"Scatter",bubble:"Bubble",areaChart:"Area",area:"Area",stackedArea:"Stacked",normalizedArea:"100% Stacked",histogramChart:"Histogram",pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled."}}}),R={name:"Article",data:function(){return{}},methods:{articleClicked:function(t,e){0==e.added&&(console.log("Wybrano artykuł",e),this.$parent.showArticleModal=!0,this.$parent.currentArticle=e)}}},$=R,L=(a("435a"),Object(g["a"])($,x,T,!1,null,"6497c572",null)),j=L.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-scroll",staticStyle:{"overflow-y":"auto",height:"100%"}},[a("div",{staticClass:"order-container"},t._l(t.$parent.dataZlec,(function(e,i){return a("div",{key:e.index,class:{"order-card":!0,first:1==e.RODZAJ,second:2==e.RODZAJ,third:3==e.RODZAJ},attrs:{value:e.index},on:{click:function(a){return t.$parent.zlecClicked(i,e)}}},[a("div",[t._v(t._s(e.KOD)+" "),a("div",[t._v(t._s(e.OPIS))])])])})),0)])},N=[],Z={name:"Order",data:function(){return{}},methods:{}},K=Z,P=(a("48ad"),Object(g["a"])(K,E,N,!1,null,"2471e9fd",null)),W=P.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[t.$parent.addToCartData.length>0&&1==t.$parent.cartShow?"cart-container no-scroll cart-btn-cont":"cart-container-min no-scroll cart-btn-cont"]},[a("div",{staticClass:"article-title title",staticStyle:{"text-align":"center",height:"30px"}},[a("div",{staticStyle:{"font-size":"1.2em"}},[t._v("Poczekalnia")]),a("div",[a("i",{class:[0==t.$parent.cartShow?"fas fa-chevron-up":"fas fa-chevron-down"],on:{click:function(e){t.$parent.cartShow=!t.$parent.cartShow}}})])]),t.$parent.addToCartData.length>0?a("div",{staticStyle:{"overflow-y":"auto",height:"fit-content"}},t._l(t.$parent.addToCartData,(function(e,i){return a("div",{key:i,staticClass:"article-card",staticStyle:{position:"relative"},attrs:{value:i}},[a("div",{staticClass:"article-desc",staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"card-bold article-title"},[a("div",[t._v(t._s(e.ARTYKUL_KOD)+" - "+t._s(e.ARTYKUL_OPIS))])]),a("div",{staticStyle:{position:"absolute",bottom:"3px",right:"5px"}},[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){return t.removeItem(e,i)}}})]),a("div",{staticClass:"card-lower"},[t._v(t._s(e.REALIZACJA))]),a("div",{staticClass:"card-bold quantity-change"},[a("i",{staticClass:"fas fa-minus",on:{click:function(a){return t.minus(e,i)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ILOSC,expression:"row.ILOSC"}],attrs:{id:"input",type:"number"},domProps:{value:e.ILOSC},on:{focus:function(a){return t.getValue(e.ILOSC)},input:[function(a){a.target.composing||t.$set(e,"ILOSC",a.target.value)},function(a){return t.onInput(e)}],keyup:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"e",void 0,a.key,void 0))return null;e.ILOSC=1},blur:function(a){return t.onBlur(e)}}}),a("i",{staticClass:"fas fa-plus",on:{click:function(a){return t.plus(e,i)}}})])])])})),0):t._e(),a("div",{staticStyle:{"text-align":"center",margin:".14em .4em .3em .4em"}},[a("button",{staticClass:"btn btn-primary",on:{click:t.nextWindow}},[t._v("Dalej")])])])},M=[],B=(a("a15b"),{name:"Article",data:function(){return{currentOldValue:null}},methods:{nextWindow:function(){var t=this,e=[];for(var a in this.$parent.addToCartData)e.push("".concat(this.$parent.addToCartData[a].ARTYKUL_ID,"*").concat(this.$parent.addToCartData[a].WGR_KOD,"*").concat(this.$parent.addToCartData[a].ILOSC));var i=e.join("^");console.log(i,this.$parent.selectedOrder.ID,this.$parent.selectedOrder.RODZAJ),Le.commit("loadingState",!0),u.a.post("/api/wg/specs",{ID:this.$parent.selectedOrder.ID,RODZAJ:this.$parent.selectedOrder.RODZAJ,KOSZYK:i},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;for(var i in Le.commit("loadingState",!1),console.log("ZWROTKA:",a),a.elementsData)for(var o in a.elementsData[i])for(var n in a.elementsData[i][o].ILOSC=a.elementsData[i][o].ILOSC_MAX,t.$parent.addToCartData)t.$parent.addToCartData[n].ARTYKUL_ID==a.elementsData[i][0].WYROB_ID&&t.$parent.addToCartData[n].WGR_KOD==a.elementsData[i][0].WYROB_WGR_KOD&&(a.elementsData[i][o].ARTYKUL_KOD=t.$parent.addToCartData[n].ARTYKUL_KOD,a.elementsData[i][o].ARTYKUL_ID=t.$parent.addToCartData[n].ARTYKUL_ID,a.elementsData[i][o].WGR_KOD=t.$parent.addToCartData[n].WGR_KOD,a.elementsData[i][o].ARTYKUL_OPIS=t.$parent.addToCartData[n].ARTYKUL_OPIS,a.elementsData[i][o].REALIZACJA=t.$parent.addToCartData[n].REALIZACJA,a.elementsData[i][o].ILOSC_ZAM=t.$parent.addToCartData[n].ILOSC);Le.commit("beforeCartData",a.elementsData),Le.commit("warehousesData",a.listOfWarehouse),Le.commit("departmentsData",a.departmentList),t.$router.push({name:"BeforeCart"})})).catch((function(t){Le.commit("loadingState",!1),console.log(t),alert(t)}))},getValue:function(t){this.currentOldValue=t},onBlur:function(t,e){(""==t.ILOSC||t.ILOSC.length<1)&&(t.ILOSC=this.currentOldValue)},onInput:function(t){console.log("onInput",t.ILOSC),t.ILOSC>t.ILOSC_MAX-t.ILOSC_WYKORZYSTANA&&(t.ILOSC=t.ILOSC_MAX-t.ILOSC_WYKORZYSTANA),"-"!=t.ILOSC&&"0"!=t.ILOSC&&"e"!=t.ILOSC||(t.ILOSC=1),this.currentOldValue=t.ILOSC},removeAll:function(){this.$parent.addToCartData=[]},plus:function(t,e){parseInt(t.ILOSC)<parseInt(t.ILOSC_MAX)&&(t.ILOSC=parseInt(t.ILOSC)+1,console.log(t.ILOSC))},minus:function(t,e){console.log(t.ILOSC),parseInt(t.ILOSC)>=1&&(t.ILOSC=parseInt(t.ILOSC)-1,0==parseInt(t.ILOSC)&&this.removeItem(t,e)),console.log(t.ILOSC)},removeItem:function(t,e){for(var a in this.$parent.addToCartData)this.$parent.addToCartData[a].ARTYKUL_ID==t.ARTYKUL_ID&&this.$parent.addToCartData[a].WGR_KOD==t.WGR_KOD&&(this.$parent.addToCartData.splice(e,1),this.$parent.updateView(1,t))}}}),G=B,F=(a("3d55"),Object(g["a"])(G,Y,M,!1,null,"451df3a9",null)),U=F.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal no-scroll",attrs:{id:"modal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$parent.currentArticle.ARTYKUL_KOD)+" - "+t._s(t.$parent.currentArticle.ARTYKUL_OPIS))])]),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{"text-align":"left",width:"100%"}},[a("div",{staticStyle:{display:"flex","flex-direction":"column","text-align":"left"}},[a("span",[t._v(t._s(t.$parent.currentArticle.REALIZACJA))]),a("div",{staticClass:"slidecontainer"},[a("i",{staticClass:"fas fa-minus",on:{click:t.substract}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],staticClass:"slider",attrs:{type:"range",min:0,max:t.$parent.currentArticle.ILOSC_MAX,id:"myRange"},domProps:{value:t.qty},on:{change:t.qtyChanged,__r:function(e){t.qty=e.target.value}}}),a("i",{staticClass:"fas fa-plus",on:{click:t.add}})]),a("div",{staticStyle:{"text-align":"center"}},[a("label",[t._v("Ilość: "+t._s(t.qty)+" / "+t._s(t.$parent.currentArticle.ILOSC_MAX))])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:t.cancelClicked}},[t._v("Anuluj")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.confirmClicked}},[t._v("Dodaj do koszyka")])])])])])},V=[],H=(a("45fc"),{data:function(){return{qty:1,qtyHasChanged:!1,lang:null}},methods:{add:function(){this.qty<this.$parent.currentArticle.ILOSC_MAX&&(this.qty=parseInt(this.qty)+1)},substract:function(){this.qty>1&&(this.qty=parseInt(this.qty)-1)},qtyChanged:function(t){0==this.qty&&(this.qty=1),console.log("qtyChanged",this.qty)},cancelClicked:function(){this.$parent.showArticleModal=!1},confirmClicked:function(){var t=this;this.$parent.showArticleModal=!1;var e=this.$parent.addToCartData.some((function(e){return e.ARTYKUL_ID==t.$parent.currentArticle.ARTYKUL_ID&&e.WGR_KOD==t.$parent.currentArticle.WGR_KOD}));if(0==e)this.$parent.cartShow=!0,this.$parent.addToCartData.push({ARTYKUL_ID:this.$parent.currentArticle.ARTYKUL_ID,ARTYKUL_KOD:this.$parent.currentArticle.ARTYKUL_KOD,ARTYKUL_OPIS:this.$parent.currentArticle.ARTYKUL_OPIS,REALIZACJA:this.$parent.currentArticle.REALIZACJA,ILOSC:this.qty,ILOSC_MAX:this.$parent.currentArticle.ILOSC_MAX,OBRAZEK:this.$parent.currentArticle.OBRAZEK,WGR_KOD:this.$parent.currentArticle.WGR_KOD,added:1}),this.$parent.updateView(0,null);else for(var a in this.$parent.addToCartData)this.$parent.cartShow=!0,this.$parent.addToCartData[a].ARTYKUL_ID==this.$parent.currentArticle.ARTYKUL_ID&&this.$parent.addToCartData[a].WGR_KOD==this.$parent.currentArticle.WGR_KOD&&this.$parent.currentArticle.ILOSC_MAX-this.qty-this.$parent.addToCartData[a].ILOSC>=0?this.$parent.addToCartData[a].ILOSC=this.$parent.addToCartData[a].ILOSC+this.qty:alert("Wybrana ilość jest większa niż dostępna ilość")}}}),q=H,X=(a("91c9"),Object(g["a"])(q,J,V,!1,null,"12815aac",null)),Q=X.exports,tt={name:"Main",data:function(){return{showArticles:!1,showOrder:!0,selectedOrder:null,dataSearch:null,dataSearchOryg:null,searchIsClicked:!1,dataZlecOld:null,dataZlec:null,currentDate:new Date,dataArticle:null,dataArticleOld:null,showArticleModal:!1,currentArticle:null,addToCartData:[],cartShow:!1}},mounted:function(){this.getHeaders()},components:{Header:O,Article:j,Order:W,ArticleModal:Q,Cart:U},methods:{updateView:function(t,e){for(var a in this.dataArticle)0==t?this.dataArticle[a].ARTYKUL_ID==this.currentArticle.ARTYKUL_ID&&this.dataArticle[a].WGR_KOD==this.currentArticle.WGR_KOD&&(this.dataArticle[a].added=1):1==t&&e.ARTYKUL_ID==this.dataArticle[a].ARTYKUL_ID&&e.WGR_KOD==this.dataArticle[a].WGR_KOD&&(this.dataArticle[a].added=0)},getHeaders:function(){var t=this;Le.commit("loadingState",!0),u.a.post("/api/headers",{data:this.currentDate},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.dataZlec=a,t.dataZlecOld=a})).catch((function(t){Le.commit("loadingState",!1),console.log(t),alert(t)}))},submitSearch:function(t){var e=[];this.dataZlecOld.filter((function(a,i){var o=a;-1!==o.KOD.toLowerCase().indexOf(t.toLowerCase())==1&&e.push(o)}));this.dataZlec=e,console.log("this.dataSearch",this.dataZlec)},zlecClicked:function(t,e){console.log(t,e),this.selectedOrder=e,Le.commit("selectedOrder",this.selectedOrder),this.getArticles()},getArticles:function(){var t=this;Le.commit("loadingState",!0),u.a.post("/api/wg",{ID:this.selectedOrder.ID,RODZAJ:this.selectedOrder.RODZAJ},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a);var i="";if(a.length<1){switch(t.selectedOrder.RODZAJ){case 1:i="Seria";break;case 2:i="Limit";break;case 3:i="Zlecenie";break;default:break}alert("Brak naliczeń dla wyrobów pod ".concat(i,": ").concat(t.selectedOrder.KOD))}else{for(var o in t.showOrder=!1,t.showArticles=!0,t.searchIsClicked=!1,a)a[o].added=0;t.dataArticle=a,t.dataArticleOld=a}})).catch((function(t){Le.commit("loadingState",!1),console.log(t),alert(t)}))},searchClickedArticle:function(){0==this.searchIsClicked?(this.searchIsClicked=!0,this.$nextTick((function(){window.document.getElementById("searchInput")&&window.document.getElementById("searchInput").focus()}))):this.searchIsClicked=!1},searchClicked:function(){var t=this;0==this.searchIsClicked&&u.a.get("/api/headers/all",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;t.searchIsClicked=!0,Le.commit("loadingState",!1),console.log("search data",a),t.dataSearchOryg=a,t.dataSearch=a,t.$nextTick((function(){window.document.getElementById("searchInput")&&window.document.getElementById("searchInput").focus()}))})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},filterSearch:function(t){if(1==this.showOrder){var e=[];this.dataSearchOryg.filter((function(a,i){var o=a;-1!==o.KOD.toLowerCase().indexOf(t.toLowerCase())==1&&e.push(o)}));this.dataSearch=e,console.log("this.dataSearch",this.dataSearch)}else if(1==this.showArticles){var a=[];this.dataArticleOld.filter((function(e,i){var o=e;-1!==o.ARTYKUL_KOD.toLowerCase().indexOf(t.toLowerCase())!=1&&-1!==o.ARTYKUL_OPIS.toLowerCase().indexOf(t.toLowerCase())!=1||a.push(o)}));this.dataArticle=a}}}},et=tt,at=Object(g["a"])(et,S,k,!1,null,"70e6e361",null),it=at.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-scroll",staticStyle:{height:"100%",overflow:"hidden",display:"flex","flex-direction":"column"}},[a("Header"),a("div",{staticStyle:{"text-align":"right"}},[0==t.checkChecked?a("div",{staticClass:"clickable-div",on:{click:t.selectAll}},[a("i",{staticClass:"far fa-check-square"}),t._v(" Zaznacz wszystkie ")]):t._e(),1==t.checkChecked?a("div",{staticClass:"clickable-div",on:{click:t.deselectAll}},[a("i",{staticClass:"far fa-square"}),t._v(" Odznacz wszystkie ")]):t._e(),a("div",{staticClass:"dropdown clickable-div-wh"},[t._m(0),a("div",{staticClass:"dropdown-menu navbar-light cart-drop",attrs:{role:"menu","aria-labelledby":"drop1"},on:{click:function(e){return t.stop(e)}}},[a("div",{staticStyle:{"text-align":"right","font-size":".8em"}},[0==t.checkCheckedWh?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.selectAllCheckbox(1)}}},[a("i",{staticClass:"far fa-check-square"}),t._v(" Zaznacz wszystkie ")]):t._e(),1==t.checkCheckedWh?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.deselectAllCheckbox(1)}}},[a("i",{staticClass:"far fa-square"}),t._v(" Odznacz wszystkie ")]):t._e()]),t._l(t.warehouseData,(function(e,i){return a("a",{key:i,staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{value:e.id}},[a("label",{staticClass:"label-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedWh,expression:"checkedWh"}],attrs:{type:"checkbox",id:"checkboxWH",name:"checkboxWH"},domProps:{value:e.id,checked:Array.isArray(t.checkedWh)?t._i(t.checkedWh,e.id)>-1:t.checkedWh},on:{change:[function(a){var i=t.checkedWh,o=a.target,n=!!o.checked;if(Array.isArray(i)){var s=e.id,r=t._i(i,s);o.checked?r<0&&(t.checkedWh=i.concat([s])):r>-1&&(t.checkedWh=i.slice(0,r).concat(i.slice(r+1)))}else t.checkedWh=n},t.warehouseClicked]}}),t._v(" "+t._s(e.kod)+" ")])])}))],2)]),a("div",{staticClass:"dropdown clickable-div-dept"},[t._m(1),a("div",{staticClass:"dropdown-menu navbar-light cart-drop",attrs:{role:"menu","aria-labelledby":"drop2"},on:{click:function(e){return t.stop(e)}}},[a("div",{staticStyle:{"text-align":"right","font-size":".8em"}},[0==t.checkCheckedDepartments?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.selectAllCheckbox(0)}}},[a("i",{staticClass:"far fa-check-square"}),t._v(" Zaznacz wszystkie ")]):t._e(),1==t.checkCheckedDepartments?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.deselectAllCheckbox(0)}}},[a("i",{staticClass:"far fa-square"}),t._v(" Odznacz wszystkie ")]):t._e()]),t._l(t.departmentsData,(function(e,i){return a("a",{key:i,staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{value:e.id}},[a("label",{staticClass:"label-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedDepartments,expression:"checkedDepartments"}],attrs:{type:"checkbox",id:"checkboxDept",name:"checkboxDept"},domProps:{value:e.id,checked:Array.isArray(t.checkedDepartments)?t._i(t.checkedDepartments,e.id)>-1:t.checkedDepartments},on:{change:[function(a){var i=t.checkedDepartments,o=a.target,n=!!o.checked;if(Array.isArray(i)){var s=e.id,r=t._i(i,s);o.checked?r<0&&(t.checkedDepartments=i.concat([s])):r>-1&&(t.checkedDepartments=i.slice(0,r).concat(i.slice(r+1)))}else t.checkedDepartments=n},t.departmentClicked]}}),t._v(" "+t._s(e.kod)+" ")])])}))],2)])]),a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"row",height:"100%",flex:"1 1 auto",overflow:"auto"}},[null!=t.data&&t.data.length>0?a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"column",height:"100%",flex:"1 1 auto",overflow:"auto","padding-bottom":"3px"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"info",staticStyle:{height:"100%",display:"flex","flex-direction":"column",flex:"1 1 auto"},attrs:{value:i}},[a("div",{staticStyle:{margin:"0 .5em"}},[a("span",{staticClass:"bold"},[t._v(t._s(t.data[i][0].ARTYKUL_KOD))]),t._v(" "+t._s(t.data[i][0].ARTYKUL_OPIS)+" ("+t._s(t.data[i][0].REALIZACJA)+") "),a("div",{staticStyle:{float:"right"}},[t._v(t._s(t.data[i][0].ILOSC_ZAM)+" szt")])]),a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"customDuoGrid",columnDefs:t.columnDefs,rowBuffer:"1000",rowData:t.data[i],editType:t.editType,rowSelection:"multiple",defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,animateRows:!0,stopEditingWhenGridLosesFocus:!0,singleClickEdit:!0,suppressClickEdit:!0,suppressDragLeaveHidesColumns:!0,suppressRowClickSelection:!0,suppressColumnVirtualisation:!0,headerHeight:32},on:{"grid-ready":function(e){return t.onGridReady(e,i)},gridSizeChanged:function(e){return t.onGridSizeChanged(e,i)},rowSelected:t.onRowSelected,cellEditingStopped:function(e){return t.onCellEditingStopped(e,i)},cellEditingStarted:t.onCellEditingStarted,cellClicked:function(e){return t.onCellClicked(e,i)},rowDataChanged:t.onRowDataChanged}})],1)})),0):t._e()]),a("div",{staticClass:"btn-bottom-container"},[a("button",{staticClass:"btn btn-primary",on:{click:t.addToGlobalCart}},[t._v("Dodaj do koszyka")]),a("button",{staticClass:"btn btn-success",on:{click:t.createDisposition}},[t._v("Złóż")])])],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"dropdown-toggle",attrs:{id:"drop1",href:"#",role:"button","data-toggle":"dropdown"}},[t._v(" Magazyny "),a("b",{staticClass:"caret"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"dropdown-toggle",attrs:{href:"#",id:"drop2",role:"button","data-toggle":"dropdown"}},[t._v(" Wydziały "),a("b",{staticClass:"caret"})])}],st=(a("4160"),a("d81d"),a("b680"),a("d3b7"),a("25f0"),a("159b"),a("401b")),rt={name:"BeforeCart",data:function(){return{data:null,startData:null,editType:"fullRow",localeText:null,paginationPageSize:null,defaultColDef:null,pageBeforeCart:!0,searchIsClicked:!0,lastIndex:null,selectedOrder:null,selectedElements:[],oldCellValue:null,isRowSelected:!0,warehouseData:null,departmentsData:null,checkedWh:[],checkedDepartments:[]}},components:{AgGridVue:st["AgGridVue"],Header:O},computed:{checkChecked:function(){return 1==this.isRowSelected},checkCheckedWh:function(){return this.checkedWh.length>0},checkCheckedDepartments:function(){return this.checkedDepartments.length>0}},methods:{selectAllCheckbox:function(t){if(1==t)for(var e in this.warehouseData)this.checkedWh.push(this.warehouseData[e].id),this.warehouseClicked();else for(var a in this.departmentsData)this.checkedDepartments.push(this.departmentsData[a].id),this.departmentClicked()},deselectAllCheckbox:function(t){1==t?(this.checkedWh=[],this.warehouseClicked()):(this.checkedDepartments=[],this.departmentClicked())},stop:function(t){t.stopPropagation()},departmentClicked:function(){console.log("Zaznaczone",this.checkedDepartments),this.filterData()},onRowDataChanged:function(t){this.selectAll()},warehouseClicked:function(){console.log("Zaznaczone",this.checkedWh),this.filterData()},filterData:function(){var t=this,e=[],a=[];for(var i in this.startData){this.startData[i].filter((function(a,i){var o=a;for(var n in t.checkedWh)if(-1!==o.MAGAZYNY_ID.toString().indexOf(t.checkedWh[n].toString())==1)for(var s in t.checkedDepartments)-1!==o.WYDZIALY_ID.toString().indexOf(t.checkedDepartments[s].toString())==1&&e.push(o)}));e.length>0&&(a.push(e),e=[])}console.log("newDataSearch",a),this.data=a},onRowSelected:function(t){for(var e=this.lastIndex,a=[],i=0;i<=e;i++)a.push(this["gridApi".concat(i)].getSelectedNodes());for(var o in a){if(a[o].length>0){this.isRowSelected=!0;break}this.isRowSelected=!1}},onCellEditingStopped:function(t,e){console.log("edit",t);var a=parseFloat(t.data.ILOSC).toFixed(3);(null==a||a<0||isNaN(a))&&(alert("Zła wartość"),this.rollbackValue(t,e)),0==a&&t.node.setSelected(!1),0==this.oldCellValue&&a>0&&t.node.setSelected(!0)},rollbackValue:function(t,e){var a=[];for(var i in this.data[e])if(this.data[e][i].WYROB_ID==t.data.WYROB_ID&&this.data[e][i].WYROB_WGR_KOD==t.data.WYROB_WGR_KOD&&this.data[e][i].ELEMENT_ID==t.data.ELEMENT_ID&&this.data[e][i].ELEMENT_WGR_KOD==t.data.ELEMENT_WGR_KOD){this.data[e][i].ILOSC=this.oldCellValue,a.push(this.data[e][i]);var o=this["gridApi".concat(e)].applyTransaction({update:a});console.log("res grid flag",o)}},onCellEditingStarted:function(t){console.log("edit",t),this.oldCellValue=parseFloat(t.data.ILOSC).toFixed(3)},onCellClicked:function(t,e){console.log("onCellClicked",t);var a=this["gridApi".concat(e)].getFocusedCell(),i=(this["gridApi".concat(e)].getDisplayedRowAtIndex(a.rowIndex),this["gridApi".concat(e)].getSelectedNodes()),o=i.map((function(t){return t.data}));console.log("selectedData",o),"ILOSC"==a.column.colDef.field&&this["gridApi".concat(e)].startEditingCell({rowIndex:a.rowIndex,colKey:"ILOSC"})},addToGlobalCart:function(){this.selectedElements=[];for(var t=this.lastIndex,e=[],a=0;a<=t;a++)e.push(this["gridApi".concat(a)].getSelectedRows());for(var i in console.log("dawaj do koszyka",e),e)for(var o in e[i])e[i][o].ID=this.selectedOrder.ID,e[i][o].RODZAJ=this.selectedOrder.RODZAJ,this.selectedElements.push(e[i][o]);console.log("selectedElements",this.selectedElements),this.sendCart()},sendCart:function(){var t=this;Le.commit("loadingState",!0),u.a.post("/api/desposition/cart/save",{Elements:this.selectedElements},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.$router.push({name:"MainView"})})).catch((function(t){Le.commit("loadingState",!1),console.log(t),alert(t)}))},createDisposition:function(){var t=this,e=confirm("Czy na pewno chcesz złożyć dyspozycję?");if(1==e){this.selectedElements=[];for(var a=this.lastIndex,i=[],o=0;o<=a;o++)i.push(this["gridApi".concat(o)].getSelectedRows());for(var n in i)for(var s in i[n])i[n][s].ID=this.selectedOrder.ID,i[n][s].RODZAJ=this.selectedOrder.RODZAJ,this.selectedElements.push(i[n][s]);Le.commit("loadingState",!0),u.a.post("/api/desposition/create/desposition",{Elements:this.selectedElements},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.$router.push({name:"MainView"})})).catch((function(t){Le.commit("loadingState",!1),console.log(t),405==t.response.status?alert("Zła ilość. Błąd 405"):alert(t)}))}},selectAll:function(){console.log("selectAll");for(var t=this.lastIndex,e=0;e<=t;e++)this["gridApi".concat(e)].selectAll();this.isRowSelected=!0},deselectAll:function(){for(var t=this.lastIndex,e=0;e<=t;e++)this["gridApi".concat(e)].deselectAll();this.isRowSelected=!1},onGridSizeChanged:function(t,e){this["gridApi".concat(e)]=t.api,this["columnApi".concat(e)]=t.columnApi;var a=[];this["columnApi".concat(e)].getAllColumns().forEach((function(t){a.push(t.colId)})),this["columnApi".concat(e)].autoSizeColumns(a,!1);var i=null,o=0,n=this["columnApi".concat(e)].getColumnState(),s=window.document.getElementById("customDuoGrid");for(var r in n)o+=n[r].width,"2"==n[r].colId&&(i=n[r]);o<s.offsetWidth&&this["columnApi".concat(e)].applyColumnState({state:[{colId:i.colId,width:s.offsetWidth-o+i.width-2}]})},onGridReady:function(t,e){this["gridApi".concat(e)]=t.api,this["columnApi".concat(e)]=t.columnApi,this["gridApi".concat(e)].sizeColumnsToFit(),this["gridApi".concat(e)].selectAll(),this.lastIndex=e,this["gridApi".concat(e)].setDomLayout("autoHeight"),document.querySelector("#customDuoGrid").style.height="";var a=[];this["columnApi".concat(e)].getAllColumns().forEach((function(t){a.push(t.colId)})),this["columnApi".concat(e)].autoSizeColumns(a,!1);var i=null,o=0,n=this["columnApi".concat(e)].getColumnState(),s=window.document.getElementById("customDuoGrid");for(var r in n)o+=n[r].width,"2"==n[r].colId&&(i=n[r]);o<s.offsetWidth&&this["columnApi".concat(e)].applyColumnState({state:[{colId:i.colId,width:s.offsetWidth-o+i.width-2}]})},onFilterTextBoxChanged:function(t){for(var e=this.lastIndex,a=0;a<=e;a++)this["gridApi".concat(a)].setQuickFilter(t)}},beforeMount:function(){for(var t in"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,console.log("Departments:",this.$store.state.departmentList),this.selectedOrder=this.$store.state.selectedOrder,this.data=this.$store.state.beforeCartData,this.startData=this.$store.state.beforeCartData,this.warehouseData=this.$store.state.warehousesData,this.departmentsData=this.$store.state.departmentsData,this.warehouseData)this.checkedWh.push(this.warehouseData[t].id);for(var e in this.departmentsData)this.checkedDepartments.push(this.departmentsData[e].id);this.columnDefs=[{headerName:"Materał kod",field:"ELEMENT_KOD",colId:1,checkboxSelection:!0,headerCheckboxSelection:!0},{headerName:"Materiał nazwa",field:"ELEMENT_NAZWA",colId:2},{headerName:"J.m",field:"JEDNOSTKI_KOD",minWidth:150,colId:4},{headerName:"Magazyn",field:"MAGAZYNY_KOD",colId:5},{headerName:"Wydział",field:"WYDZIALY_KOD",colId:6},{headerName:"Ilość jedn.",field:"ILOSC_JEDNOSTKOWA",colId:7,valueFormatter:valueFloatFormatter},{headerName:"Ilość maks.",field:"ILOSC_MAX",colId:8,valueFormatter:valueFloatFormatter},{headerName:"Ilość",field:"ILOSC",colId:"ILOSC",minWidth:150,editable:!0,valueFormatter:valueFloatFormatter}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1}}};window.valueFloatFormatter=function(t){if(null!=t.value)return parseFloat(t.value).toFixed(3)};var lt=rt,ct=(a("f545"),Object(g["a"])(lt,ot,nt,!1,null,"5ee11a23",null)),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-scroll",staticStyle:{height:"100%",overflow:"hidden",display:"flex","flex-direction":"column"}},[a("Header"),a("div",{staticClass:"addScroll"},[0==t.checkChecked?a("div",{staticClass:"clickable-div",staticStyle:{"text-align":"right"},on:{click:t.selectAll}},[a("i",{staticClass:"far fa-check-square"}),t._v(" Zaznacz wszystkie ")]):t._e(),1==t.checkChecked?a("div",{staticClass:"clickable-div",staticStyle:{"text-align":"right"},on:{click:t.deselectAll}},[a("i",{staticClass:"far fa-square"}),t._v(" Odznacz wszystkie ")]):t._e(),a("div",{staticClass:"dropdown clickable-div-remove",staticStyle:{position:"relative",cursor:"pointer"},attrs:{href:"#",id:"remove",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._m(0),a("div",{staticClass:"dropdown-menu navbar-light cart-drop",attrs:{role:"menu","aria-labelledby":"remove"}},[a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{href:"#"},on:{click:t.deleteAll}},[a("i",{staticClass:"fas fa-trash-alt"}),t._v(" Usuń wszystkie ")]),a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},attrs:{href:"#"},on:{click:t.deleteSelected}},[a("i",{staticClass:"fas fa-trash-alt"}),t._v(" Usuń zaznaczone ")])])])]),a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"row",height:"100%",flex:"1 1 auto",overflow:"auto"}},[a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"column",height:"100%",flex:"1 1 auto",overflow:"auto","padding-bottom":"3px"}},t._l(t.sortedCart,(function(e,i){return a("div",{key:i,staticClass:"info",staticStyle:{height:"100%",display:"flex","flex-direction":"column",flex:"1 1 auto"},attrs:{value:i}},[void 0!=t.sortedCart[i][0]?a("div",{staticStyle:{margin:"0 .5em"}},[t._v(" "+t._s(t.sortedCart[i][0].RODZAJ)+" "),a("span",{staticClass:"bold"},[t._v(t._s(t.sortedCart[i][0].KOD))])]):t._e(),a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"customDuoGrid",columnDefs:t.columnDefs,rowData:t.sortedCart[i],editType:t.editType,rowSelection:"multiple",defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,animateRows:!0,stopEditingWhenGridLosesFocus:!0,singleClickEdit:!0,suppressClickEdit:!0,suppressDragLeaveHidesColumns:!0,suppressRowClickSelection:!0,headerHeight:32},on:{"grid-ready":function(e){return t.onGridReady(e,i)},gridSizeChanged:function(e){return t.onGridSizeChanged(e,i)},rowSelected:function(e){return t.onRowSelected(e,i)},selectionChanged:t.onSelectionChanged,cellEditingStopped:function(e){return t.onCellEditingStopped(e,i)},cellEditingStarted:t.onCellEditingStarted,cellClicked:function(e){return t.onCellClicked(e,i)}}})],1)})),0)]),a("div",{staticClass:"btn-bottom-container"},[a("button",{staticClass:"btn btn-success",on:{click:t.confirmDispositionStart}},[t._v("Złóż")])])],1)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"dropdown-toggle",attrs:{id:"drop1",href:"#",role:"button","data-toggle":"dropdown"}},[t._v(" Usuń "),a("b",{staticClass:"caret"})])}],pt=(a("96cf"),a("1da1")),ft={name:"FullCart",data:function(){return{editType:"fullRow",localeText:null,paginationPageSize:null,defaultColDef:null,cartCount:0,cartData:null,sortedCart:[],isRowSelected:null,pageFullCart:!0,searchIsClicked:!0,lastIndex:null,oldCellValue:null,gridReady:!1}},components:{Header:O,AgGridVue:st["AgGridVue"]},computed:{checkChecked:function(){return 1==this.isRowSelected}},methods:{onSelectionChanged:function(t){},onRowSelected:function(t,e){for(var a in console.log("onRowSelected",t.data),this.sortedCart[e])t.data.MCD_DYSPOZYCJE_KOSZYK_ID==this.sortedCart[e][a].MCD_DYSPOZYCJE_KOSZYK_ID&&(0==t.node.selected?this.sortedCart[e][a].ZAZNACZONY=0:this.sortedCart[e][a].ZAZNACZONY=1);for(var i=this.lastIndex,o=[],n=0;n<=i;n++)o.push(this["gridApi".concat(n)].getSelectedNodes());for(var s in o){if(o[s].length>0){this.isRowSelected=!0;break}this.isRowSelected=!1}this.updateCart(t.data)},onCellEditingStopped:function(t,e){console.log("edit",t);var a=parseFloat(t.data.ILOSC).toFixed(3);(null==a||a<0||isNaN(a)||a>t.data.ILOSC_MAX)&&(alert("Zła wartość"),this.rollbackValue(t,e)),0==a&&t.node.setSelected(!1),0==this.oldCellValue&&a>0&&t.node.setSelected(!0)},rollbackValue:function(t,e){var a=[];for(var i in this.data[e])if(this.data[e][i].WYROB_ID==t.data.WYROB_ID&&this.data[e][i].WYROB_WGR_KOD==t.data.WYROB_WGR_KOD&&this.data[e][i].ELEMENT_ID==t.data.ELEMENT_ID&&this.data[e][i].ELEMENT_WGR_KOD==t.data.ELEMENT_WGR_KOD){this.data[e][i].ILOSC=this.oldCellValue,a.push(this.data[e][i]);var o=this["gridApi".concat(e)].applyTransaction({update:a});console.log("res grid flag",o)}},onCellEditingStarted:function(t){console.log("edit",t),this.oldCellValue=parseFloat(t.data.ILOSC).toFixed(3)},onCellClicked:function(t,e){console.log("onCellClicked",t);var a=this["gridApi".concat(e)].getFocusedCell(),i=(this["gridApi".concat(e)].getDisplayedRowAtIndex(a.rowIndex),this["gridApi".concat(e)].getSelectedNodes()),o=i.map((function(t){return t.data}));console.log("selectedData",o),"ILOSC"==a.column.colDef.field&&this["gridApi".concat(e)].startEditingCell({rowIndex:a.rowIndex,colKey:"ILOSC"})},clearCart:function(t){var e=this;for(var a in this.cartData)u.a.delete("/api/desposition/cart/delete/".concat(this.cartData[a].MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var a=t.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",a),e.cartCount=parseInt(e.cartCount)-1})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}));this.cartData=[]},confirmDispositionStart:function(){var t=confirm("Czy na pewno chcesz złożyć dyspozycję?");if(1==t){var e=[];for(var a in this.sortedCart)for(var i in this.sortedCart[a])1==this.sortedCart[a][i].ZAZNACZONY&&e.push(this.sortedCart[a][i].MCD_DYSPOZYCJE_KOSZYK_ID);console.log("elementsToOrder",e),this.confirmDisposition(e)}},confirmDisposition:function(t){var e=this;console.log(t),Le.commit("loadingState",!0),u.a.post("/api/desposition/cart/create/desposition",{Elements:t},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var a=t.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),alert("Dyspozycja została złożona"),e.getCartCount(),e.getCartInfo()})).catch((function(t){Le.commit("loadingState",!1),console.log(t),405==t.response.status?alert("Zła ilość. Błąd 405"):alert(t)}))},stop:function(t){t.stopPropagation()},searchCart:function(t){console.log("searchCart")},getCartCount:function(){var t=this;u.a.get("/api/desposition/cart/count",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("ZWROTKA:",a),t.cartCount=a})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},getCartInfo:function(){var t=this;u.a.get("/api/desposition/cart/get",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;if(Le.commit("loadingState",!1),t.sortedCart=[],console.log("ZWROTKA:",a),a.length>0){var i=[],o=function(t){var e=i.some((function(e){return e.KOD==a[t].KOD&&e.RODZAJ==a[t].RODZAJ}));0==e&&i.push(a[t])};for(var n in a)o(n);for(var s=[],r=0;r<i.length;r++){for(var l in a)i[r].KOD==a[l].KOD&&s.push(a[l]);t.sortedCart.push(s),s=[]}console.log("sortedCart",t.sortedCart),t.cartData=a,t.checkSelected()}else t.$router.push({name:"MainView"})})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},checkSelected:function(){for(var t in this.cartData){if(1==this.cartData[t].ZAZNACZONY){this.isRowSelected=!0;break}this.isRowSelected=!1}},plus:function(t,e){t.ILOSC=parseInt(t.ILOSC)+1,console.log(t.ILOSC)},minus:function(t,e){parseInt(t.ILOSC)>=1&&(t.ILOSC=parseInt(t.ILOSC)-1,0==parseInt(t.ILOSC)&&this.removeItem(t,e))},removeItem:function(t,e){var a=this;for(var i in this.cartData)this.cartData[i].MCD_DYSPOZYCJE_KOSZYK_ID==t.MCD_DYSPOZYCJE_KOSZYK_ID&&u.a.delete("/api/desposition/cart/delete/".concat(t.MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var i=t.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",i),a.cartData.splice(e,1),a.cartCount=parseInt(a.cartCount)-1})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}))},updateCart:function(t){u.a.patch("/api/desposition/cart/update",{MCD_DYSPOZYCJE_KOSZYK_ID:t.MCD_DYSPOZYCJE_KOSZYK_ID,ILOSC:t.ILOSC,ZAZNACZONY:t.ZAZNACZONY},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var e=t.data;Le.commit("loadingState",!1),console.log("zwrotka update cart:",e)})).catch((function(t){console.log(t),Le.commit("loadingState",!1)}))},rollbackCartUpdate:function(t){for(var e in this.cartData)this.cartData[e].MCD_DYSPOZYCJE_KOSZYK_ID==t.MCD_DYSPOZYCJE_KOSZYK_ID&&(1==t.ZAZNACZONY?this.cartData[e].ZAZNACZONY=!1:this.cartData[e].ZAZNACZONY=!0)},deleteSelected:function(){var t=this,e=confirm("Czy na pewno chcesz usunąć zaznaczone pozycje z koszyka?");1==e&&function(){var e=[],a=function(a){var i=t["gridApi".concat(a)].getSelectedNodes();console.log(i);var o=i.map((function(t){return t.data})),n=function(i){u.a.delete("/api/desposition/cart/delete/".concat(o[i].MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(t.$store.state.jwt)}}).then((function(n){var s=n.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",s),t.cartCount=parseInt(t.cartCount)-1,e.push(o[i]);t["gridApi".concat(a)].applyTransaction({remove:e});for(var r in e=[],t.sortedCart[a])t.sortedCart[a][r].MCD_DYSPOZYCJE_KOSZYK_ID==o[i].MCD_DYSPOZYCJE_KOSZYK_ID&&t.sortedCart[a].splice(r,1),0==t.sortedCart[a].length&&(console.log("wlazło"),t.sortedCart.splice(a,1));0==t.cartCount&&(t.cartData=[],t.sortedCart=[],t.$router.push({name:"MainView"}))})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}))};for(var s in o)n(s);console.log("toUpdate",e)};for(var i in t.sortedCart)a(i)}()},deleteAll:function(){var t=this,e=confirm("Czy na pewno chcesz usunąć wszystko z koszyka?");if(1==e)for(var a in this.cartData)u.a.delete("/api/desposition/cart/delete/".concat(this.cartData[a].MCD_DYSPOZYCJE_KOSZYK_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("zwrotka delete:",a),t.cartCount=parseInt(t.cartCount)-1,0==t.cartCount&&(t.cartData=[],t.sortedCart=[],t.$router.push({name:"MainView"}))})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}))},selectAll:function(){for(var t=this.lastIndex,e=0;e<=t;e++)this["gridApi".concat(e)].selectAll();this.isRowSelected=!0},deselectAll:function(){for(var t=this.lastIndex,e=0;e<=t;e++)this["gridApi".concat(e)].deselectAll();this.isRowSelected=!1},onGridSizeChanged:function(t,e){this["gridApi".concat(e)]=t.api,this["columnApi".concat(e)]=t.columnApi;var a=[];this["columnApi".concat(e)].getAllColumns().forEach((function(t){a.push(t.colId)})),this["columnApi".concat(e)].autoSizeColumns(a,!1);var i=null,o=0,n=this["columnApi".concat(e)].getColumnState(),s=window.document.getElementById("customDuoGrid");for(var r in n)o+=n[r].width,"2"==n[r].colId&&(i=n[r]);o<s.offsetWidth&&this["columnApi".concat(e)].applyColumnState({state:[{colId:i.colId,width:s.offsetWidth-o+i.width-2}]})},onGridReady:function(t,e){var a=this;return Object(pt["a"])(regeneratorRuntime.mark((function i(){var o,n,s,r,l,c,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(n in console.log("onGridReady"),a["gridApi".concat(e)]=t.api,a["columnApi".concat(e)]=t.columnApi,a["gridApi".concat(e)].sizeColumnsToFit(),a.update=!1,a.lastIndex=e,a["gridApi".concat(e)].setDomLayout("autoHeight"),document.querySelector("#customDuoGrid").style.height="",o=[],a["gridApi".concat(e)].forEachNode((function(t,e){console.log("rowNode",t.data.ZAZNACZONY),1==t.data.ZAZNACZONY&&o.push(t)})),o)o[n].setSelected(!0);for(u in a.gridReady=!0,console.log(o),s=[],a["columnApi".concat(e)].getAllColumns().forEach((function(t){s.push(t.colId)})),a["columnApi".concat(e)].autoSizeColumns(s,!1),r=null,l=0,c=a["columnApi".concat(e)].getColumnState(),d=window.document.getElementById("customDuoGrid"),c)l+=c[u].width,"2"==c[u].colId&&(r=c[u]);l<d.offsetWidth&&a["columnApi".concat(e)].applyColumnState({state:[{colId:r.colId,width:d.offsetWidth-l+r.width-2}]});case 22:case"end":return i.stop()}}),i)})))()},onFilterTextBoxChanged:function(t){for(var e=this.lastIndex,a=0;a<=e;a++)this["gridApi".concat(a)].setQuickFilter(t)}},beforeMount:function(){"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,this.getCartCount(),this.getCartInfo(),this.columnDefs=[{headerName:"Materiał kod",field:"ELEMENT_KOD",colId:1,checkboxSelection:!0,headerCheckboxSelection:!0},{headerName:"Materiał nazwa",field:"ELEMENT_NAZWA",colId:2},{headerName:"J.m",minWidth:150,field:"JEDNOSTKI_KOD",colId:5},{headerName:"Ilość",field:"ILOSC",colId:"ILOSC",editable:!0,minWidth:150,valueFormatter:valueFloatFormatter}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1}}};window.valueFloatFormatter=function(t){if(null!=t.value)return parseFloat(t.value).toFixed(3)};var mt=ft,gt=(a("f5dc"),Object(g["a"])(mt,ut,ht,!1,null,"a5ad0dde",null)),Ct=gt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-scroll",staticStyle:{height:"100%",overflow:"hidden",display:"flex","flex-direction":"column"}},[a("Header"),a("div",{staticStyle:{"text-align":"right"}},[a("div",{staticClass:"dropdown clickable-div-wh"},[t._m(0),a("div",{staticClass:"dropdown-menu navbar-light cart-drop",attrs:{role:"menu","aria-labelledby":"drop1"},on:{click:function(e){return t.stop(e)}}},[a("div",{staticStyle:{"text-align":"right","font-size":".8em"}},[0==t.checkcheckedStatus?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.selectAllCheckbox(1)}}},[a("i",{staticClass:"far fa-check-square"}),t._v(" Zaznacz wszystkie ")]):t._e(),1==t.checkcheckedStatus?a("div",{staticClass:"clickable-div",on:{click:function(e){return t.deselectAllCheckbox(1)}}},[a("i",{staticClass:"far fa-square"}),t._v(" Odznacz wszystkie ")]):t._e()]),a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"}},[a("label",{staticClass:"label-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedStatus,expression:"checkedStatus"}],attrs:{type:"checkbox",id:"checkboxWH",name:"checkboxWH"},domProps:{value:0,checked:Array.isArray(t.checkedStatus)?t._i(t.checkedStatus,0)>-1:t.checkedStatus},on:{change:[function(e){var a=t.checkedStatus,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=0,s=t._i(a,n);i.checked?s<0&&(t.checkedStatus=a.concat([n])):s>-1&&(t.checkedStatus=a.slice(0,s).concat(a.slice(s+1)))}else t.checkedStatus=o},t.statusClicked]}}),t._v(" Złożona ")])]),a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"}},[a("label",{staticClass:"label-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedStatus,expression:"checkedStatus"}],attrs:{type:"checkbox",id:"checkboxWH",name:"checkboxWH"},domProps:{value:1,checked:Array.isArray(t.checkedStatus)?t._i(t.checkedStatus,1)>-1:t.checkedStatus},on:{change:[function(e){var a=t.checkedStatus,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=1,s=t._i(a,n);i.checked?s<0&&(t.checkedStatus=a.concat([n])):s>-1&&(t.checkedStatus=a.slice(0,s).concat(a.slice(s+1)))}else t.checkedStatus=o},t.statusClicked]}}),t._v(" W realizacji ")])]),a("a",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"}},[a("label",{staticClass:"label-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedStatus,expression:"checkedStatus"}],attrs:{type:"checkbox",id:"checkboxWH",name:"checkboxWH"},domProps:{value:2,checked:Array.isArray(t.checkedStatus)?t._i(t.checkedStatus,2)>-1:t.checkedStatus},on:{change:[function(e){var a=t.checkedStatus,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=2,s=t._i(a,n);i.checked?s<0&&(t.checkedStatus=a.concat([n])):s>-1&&(t.checkedStatus=a.slice(0,s).concat(a.slice(s+1)))}else t.checkedStatus=o},t.statusClicked]}}),t._v(" Zakończona ")])])])])]),a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"row",height:"100%",flex:"1 1 auto",overflow:"auto"}},[null!=t.dispositionData&&t.dispositionData.length>0?a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"column",height:"100%",flex:"1 1 auto",overflow:"auto","padding-bottom":"3px"}},[a("div",{staticClass:"info",staticStyle:{height:"100%",display:"flex","flex-direction":"column",flex:"1 1 auto"}},[a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%","margin-bottom":".5em"},attrs:{id:"customDuoGrid",columnDefs:t.columnDefs,rowBuffer:"1000",rowData:t.dispositionData,editType:t.editType,rowSelection:"single",defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,rowMultiSelectWithClick:!0,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressColumnVirtualisation:!0,headerHeight:32},on:{"grid-ready":t.onGridReady,rowClicked:t.onRowClicked}}),1==t.showSecondGrid?a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"customDuoGrid2",columnDefs:t.columnDefs2,rowBuffer:"1000",rowData:t.specsData,editType:t.editType,rowSelection:"single",defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressColumnVirtualisation:!0,headerHeight:32},on:{"grid-ready":t.onGridReady2,gridSizeChanged:t.onGridSizeChanged2,rowDataChanged:t.onRowDataChanged}}):t._e()],1)]):t._e()])],1)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"dropdown-toggle",attrs:{id:"drop1",href:"#",role:"button","data-toggle":"dropdown"}},[t._v(" Statusy "),a("b",{staticClass:"caret"})])}],kt={name:"Article",data:function(){return{dispositionData:null,startData:null,specsData:null,startDataSpecs:null,editType:"fullRow",localeText:null,paginationPageSize:null,defaultColDef:null,searchIsClicked:!0,lastIndex:null,selectedOrder:null,selectedElements:[],oldCellValue:null,isRowSelected:!0,warehouseData:null,departmentsData:null,checkedStatus:[0,1,2,3],checkedDepartments:[],pageMyDispositions:!0,currentClicked:null,showSecondGrid:!1}},components:{AgGridVue:st["AgGridVue"],Header:O},computed:{checkChecked:function(){return 1==this.isRowSelected},checkcheckedStatus:function(){return this.checkedStatus.length>0},checkCheckedDepartments:function(){return this.checkedDepartments.length>0}},methods:{getDispositionInfo:function(){var t=this;Le.commit("loadingState",!0),u.a.get("/api/desposition/get",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;if(a.length>0){for(var i in a)a[i].ZRODLO="".concat(a[i].RODZAJ,": ").concat(a[i].KOD);Le.commit("loadingState",!1),console.log("ZWROTKA moje dyspozycje:",a),t.startData=a,t.dispositionData=a}else alert("Brak danych do wyświetlenia")})).catch((function(t){Le.commit("loadingState",!1),console.log(t),alert(t)}))},statusClicked:function(){console.log("statusClicked",this.checkedStatus),this.filterData()},selectAllCheckbox:function(t){1==t&&(this.checkedStatus=[0,1,2,3],this.filterData())},deselectAllCheckbox:function(t){1==t&&(this.checkedStatus=[],this.filterData())},filterData:function(){var t=this,e=[],a=[];this.startData.filter((function(a,i){var o=a;for(var n in t.checkedStatus)-1!==o.STATUS.toString().indexOf(t.checkedStatus[n].toString())==1&&e.push(o)}));if(null!=this.startDataSpecs){this.startDataSpecs.filter((function(e,i){var o=e;for(var n in t.checkedStatus)-1!==o.STATUS.toString().indexOf(t.checkedStatus[n].toString())==1&&a.push(o)}));this.specsData=a}console.log("newDataSearch",e),this.dispositionData=e},stop:function(t){t.stopPropagation()},onRowDataChanged:function(t){console.log("onRowDataChanged"),this.gridApiDispSpec=t.api,this.columnApiDispSpec=t.columnApi,this.gridApiDispSpec.sizeColumnsToFit();var e=[];this.columnApiDispSpec.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApiDispSpec.autoSizeColumns(e,!1);var a=null,i=0,o=this.columnApiDispSpec.getColumnState(),n=window.document.getElementById("customDuoGrid2");for(var s in o)i+=o[s].width,"20"==o[s].colId&&(a=o[s]),"10"==o[s].colId&&o[s];if(i<n.offsetWidth){n.offsetWidth;this.columnApiDispSpec.applyColumnState({state:[{colId:a.colId,width:n.offsetWidth-i+a.width-1}]})}},onRowClicked:function(t){console.log("onRowClicked");var e=this.gridApiDisp.getSelectedNodes();e.length>0?(this.currentClicked=t.data,this.getSpecsInfo(t.data)):(this.currentClicked=null,this.startDataSpecs=null,this.specsData=null,this.showSecondGrid=!1)},getSpecsInfo:function(t){var e=this;console.log("getSpecsInfo",t.MCD_DYSPOZYCJE_ID),Le.commit("loadingState",!0),u.a.get("/api/desposition/get/spec/".concat(t.MCD_DYSPOZYCJE_ID),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var a=t.data;Le.commit("loadingState",!1),console.log("ZWROTKA SPEC:",a),e.startDataSpecs=a,e.specsData=a,e.showSecondGrid=!0;var i=[];if(null!=e.startDataSpecs){e.startDataSpecs.filter((function(t,a){var o=t;for(var n in e.checkedStatus)-1!==o.STATUS.toString().indexOf(e.checkedStatus[n].toString())==1&&i.push(o)}));e.specsData=i}})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},onGridSizeChanged:function(t){this.gridApiDisp=t.api,this.columnApiDisp=t.columnApi;var e=[];this.columnApiDisp.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApiDisp.autoSizeColumns(e,!1);var a=null,i=null,o=0,n=this.columnApiDisp.getColumnState(),s=window.document.getElementById("customDuoGrid");for(var r in n)o+=n[r].width,"3"==n[r].colId&&(a=n[r]),"1"==n[r].colId&&(i=n[r]);if(o<s.offsetWidth){var l=(s.offsetWidth-o)/2;this.columnApiDisp.applyColumnState({state:[{colId:i.colId,width:l+i.width-1},{colId:a.colId,width:l+a.width-1}]})}},onGridSizeChanged2:function(t){this.gridApiDispSpec=t.api,this.columnApiDispSpec=t.columnApi;var e=[];this.columnApiDispSpec.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApiDispSpec.autoSizeColumns(e,!1);var a=null,i=null,o=0,n=this.columnApiDispSpec.getColumnState(),s=window.document.getElementById("customDuoGrid2");for(var r in n)o+=n[r].width,"20"==n[r].colId&&(a=n[r]),"10"==n[r].colId&&(i=n[r]),console.log("columnToResize2",i);if(o<s.offsetWidth){s.offsetWidth;this.columnApiDispSpec.applyColumnState({state:[{colId:a.colId,width:s.offsetWidth-o+a.width-1}]})}},onGridReady:function(t){this.gridApiDisp=t.api,this.columnApiDisp=t.columnApi,this.gridApiDisp.sizeColumnsToFit();var e=[];this.columnApiDisp.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApiDisp.autoSizeColumns(e,!1);var a=null,i=null,o=0,n=this.columnApiDisp.getColumnState(),s=window.document.getElementById("customDuoGrid");for(var r in n)o+=n[r].width,"3"==n[r].colId&&(a=n[r]),"1"==n[r].colId&&(i=n[r]);if(o<s.offsetWidth){var l=(s.offsetWidth-o)/2;this.columnApiDisp.applyColumnState({state:[{colId:i.colId,width:l+i.width-1},{colId:a.colId,width:l+a.width-1}]})}},onGridReady2:function(t){this.gridApiDispSpec=t.api,this.columnApiDispSpec=t.columnApi,this.gridApiDispSpec.sizeColumnsToFit();var e=[];this.columnApiDispSpec.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApiDispSpec.autoSizeColumns(e,!1);var a=null,i=0,o=this.columnApiDispSpec.getColumnState(),n=window.document.getElementById("customDuoGrid2");for(var s in o)i+=o[s].width,"20"==o[s].colId&&(a=o[s]),"10"==o[s].colId&&o[s];if(i<n.offsetWidth){n.offsetWidth;this.columnApiDispSpec.applyColumnState({state:[{colId:a.colId,width:n.offsetWidth-i+a.width-1}]})}},onFilterTextBoxChanged:function(t){console.log("onFilterTextBoxChanged"),this.gridApiDisp.setQuickFilter(t)}},beforeMount:function(){"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,this.getDispositionInfo(),this.columnDefs=[{headerName:"Dyspozycja",field:"NUMER_DYSPOZYCJI",colId:1},{headerName:"Data",field:"INS_DATE",colId:2},{headerName:"Źródło",field:"ZRODLO",colId:3},{headerName:"Magazyn",field:"MAGAZYNY_KOD",colId:5},{headerName:"Wydział",field:"WYDZIALY_KOD",colId:6},{headerName:"Status",field:"STATUS",valueFormatter:statusFormatter,colId:7}],this.columnDefs2=[{headerName:"Materiał kod",field:"ELEMENT_KOD",colId:10},{headerName:"Materiał nazwa",field:"ELEMENT_NAZWA",colId:20},{headerName:"J.m",field:"JEDNOSTKI_KOD",colId:30},{headerName:"Ilość",field:"ILOSC",valueFormatter:valueFloatFormatter,colId:50},{headerName:"Ilość wyd.",field:"ILOSC_WYD",valueFormatter:valueFloatFormatter,colId:60},{headerName:"Status",field:"STATUS",valueFormatter:statusFormatter,colId:70}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1}}};window.sourceFormatter=function(t){return console.log(t.data),"".concat(t.data.RODZAJ,": ").concat(t.data.KOD)},window.valueFloatFormatter=function(t){if(null!=t.value)return parseFloat(t.value).toFixed(3)},window.statusFormatter=function(t){return 0==t.value?"Złożona":1==t.value?"W realizacji":2==t.value?"Zakończona":void 0};var Dt=kt,wt=(a("e752"),Object(g["a"])(Dt,vt,St,!1,null,"141ab480",null)),At=wt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"wrapper"},[1==this.$store.state.loading?a("Dropback"):t._e(),a("div",{staticStyle:{position:"relative",height:"100%"}},[a("GridDuo")],1)],1)])},bt=[],_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("img",{staticClass:"logo",attrs:{src:a("58e4")},on:{click:t.imageClicked}}),i("span",{staticClass:"appTitle"},[t._v("Dyspozycja")]),i("div",{staticClass:"appTitle position"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",id:"search",name:"search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onFilterTextBoxChanged],change:t.onFilterTextBoxChanged,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchForRecords(e)}}}),i("i",{staticClass:"fas fa-search",on:{click:t.searchForRecords}}),t.search.length>0?i("i",{staticClass:"fas fa-times",on:{click:t.clear}}):t._e()]),t.$parent.showSetMaxBtn?i("span",{staticClass:"appTitle",staticStyle:{cursor:"pointer"},on:{click:t.$parent.setMaxQuantity}},[i("i",{staticClass:"far fa-check-circle",staticStyle:{"margin-right":"6px"}}),t._v("Potwierdź ")]):t._e(),i("div",{staticClass:"appTitle",staticStyle:{float:"right",width:"100%","text-align":"right"}},[1==t.$parent.showAcceptButton?i("button",{staticStyle:{cursor:"pointer","margin-right":"20px"},on:{click:t.$parent.showSummary}},[t._v("Pokaż dyspozycję")]):t._e(),i("button",{staticStyle:{cursor:"pointer","margin-right":"20px"},on:{click:function(e){t.$parent.changePasswordClicked=!0}}},[t._v("Zmień hasło")]),i("span",[t._v(" "+t._s(t.$store.state.user)+" "),i("i",{staticClass:"fas fa-power-off",staticStyle:{"margin-left":"0.5em"},on:{click:t.logout}})])])])},It=[],Ot={name:"Header",data:function(){return{startDate:new Date,dateToDisplay:new Date,companies:null,selectedCompany:null,range:1,polling:null,update:0,search:""}},computed:{showSetMax:function(){return 1==this.$parent.showSecondGrid}},methods:{imageClicked:function(){this.$parent.showButtons=!0,this.$parent.firstBtnClicked=!1,this.$parent.secondBtnClicked=!1,this.$parent.addToCart=[],this.$parent.showSearch=!1,this.$parent.isArchivedClicked=!1,this.$parent.isCurrentClicked=!1,this.$parent.showSecondGrid=!1,this.$parent.showMainSecondGrid=!1,this.$parent.showHeadersGrid=!1,this.clear()},clear:function(){this.search=""},onFilterTextBoxChanged:function(){1==this.$parent.showSearch&&1==this.$parent.firstBtnClicked?this.$parent.gridApi.setQuickFilter(document.getElementById("search").value):1==this.$parent.showSearch&&this.$parent.showHeadersGrid&&this.$parent.gridApiMain.setQuickFilter(document.getElementById("search").value)},searchForRecords:function(){0==this.$parent.showSearch&&(this.$parent.showMainSecondGrid=!1,this.$parent.showFirstGrid=!0,this.$parent.getBySearch(this.search),this.clear())},logout:function(){Le.commit("user",null),Le.commit("decryptedPassword",null),Le.commit("userLogged",!1),this.$cookies.remove("ITMDyspozycja"),this.$router.push({name:"Login"})}}},xt=Ot,Tt=(a("ab0a"),Object(g["a"])(xt,_t,It,!1,null,"79be0993",null)),zt=Tt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%",overflow:"hidden"}},[a("Header"),1==t.changePasswordClicked?a("PasswordModal"):t._e(),a("div",{staticStyle:{position:"relative",display:"flex","flex-direction":"row",height:"100%",flex:"1 1 auto",overflow:"auto"}})],1)},$t=[],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header2"},[a("div",{staticClass:"appTitle"},[a("button",{staticStyle:{"margin-right":"20px"},on:{click:t.back}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v("Wstecz ")]),a("button",{staticStyle:{"margin-right":"20px"},on:{click:t.$parent.releaseAll}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v("Wydaj wszystko ")]),a("button",{on:{click:t.$parent.removeAll}},[a("i",{staticClass:"far fa-trash-alt"}),t._v("Cofnij wszystko ")])])])},jt=[],Et={name:"Header2",data:function(){return{search:null}},methods:{onFilterTextBoxChanged:function(){this.$parent.gridApi.setQuickFilter(document.getElementById("search").value)},back:function(){this.$parent.showFirstGrid=!0,this.$parent.showMainSecondGrid=!1}}},Nt=Et,Zt=(a("ddcf"),Object(g["a"])(Nt,Lt,jt,!1,null,"116a832a",null)),Kt=Zt.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",attrs:{id:"modal"}},[i("div",{staticClass:"dialog"},[i("div",{staticClass:"content-modal"},[i("div",[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"title"},[t._v("Zam nr: "+t._s(t.$parent.rowlist[0].ZAM_NR))]),i("div",{staticStyle:{display:"flex","flex-direction":"column",height:"85vh",flex:"1 1 auto"}},[i("div",[t._v("Nr komisji: "+t._s(t.$parent.rowlist[0].KLIENT_KOD))]),i("div",[t._v("Uwagi: "+t._s(t.$parent.rowlist[0].UWAGI))]),i("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"customDuoGrid",columnDefs:t.columnDefs,rowData:t.modalRowData,editType:t.editType,rowSelection:"multiple",rowMultiSelectWithClick:!0,defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,animateRows:!0,suppressDragLeaveHidesColumns:!0},on:{"grid-ready":t.onGridReady}}),i("img",{staticClass:"picture",attrs:{src:a("cf05")}}),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:t.cancelClicked}},[t._v("Anuluj")]),i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.printClicked}},[t._v("Drukuj")])])],1)])])])])])},Wt=[],Yt={name:"Print",data:function(){return{modalRowData:[],columnDefs:null,editType:"fullRow",defaultColDef:null,localeText:null,paginationPageSize:null}},components:{AgGridVue:st["AgGridVue"]},methods:{onGridReady:function(t){this.gridApi=t.api,this.columnApi=t.columnApi,this.gridApi.sizeColumnsToFit()},cancelClicked:function(){console.log("cancel clicked"),Le.commit("actionClicked","close"),this.$parent.printIsClicked=!1,"add"==this.$parent.$el.className&&this.$parent.addComponentClose()},printClicked:function(){console.log("print clicked")}},beforeMount:function(){this.modalRowData=[{KOD_ART:"2345/2578",NAZWA:"Klient1",ILOSC:"4",REALIZACJE:"Royal"},{KOD_ART:"8357/2539",NAZWA:"Klient2",ILOSC:"2",REALIZACJE:"Alaska"},{KOD_ART:"8840/2538",NAZWA:"Klient3",ILOSC:"1",REALIZACJE:"Royal"}],"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,this.columnDefs=[{headerName:"Kod artykułu",field:"KOD_ART",colId:3},{headerName:"Nazwa",field:"NAZWA",colId:3},{headerName:"Ilość",field:"ILOSC",colId:3,type:"rightAligned",maxWidth:90},{headerName:"Realizacje",field:"REALIZACJE",colId:3}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1},this.paginationPageSize=20}};window.currencyFormatter=function(t){return t.value.toFixed(3)},window.dateFormatter=function(t){if(null!=t.value){var e=y()(new Date(t.value)).format("YYYY-MM-DD");return e}};var Mt=Yt,Bt=(a("a66a"),Object(g["a"])(Mt,Pt,Wt,!1,null,"209defa3",null)),Gt=(Bt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",attrs:{id:"modal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("label",[t._v("Stare hasło:")]),a("div",{staticStyle:{position:"relative"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPass,expression:"oldPass"}],staticClass:"form-control ng-touched ng-dirty ng-valid",attrs:{type:"password",id:"old",placeholder:"Stare hasło"},domProps:{value:t.oldPass},on:{input:function(e){e.target.composing||(t.oldPass=e.target.value)}}}),a("i",{class:[1==t.showOld?"far fa-eye-slash":"far fa-eye"],on:{click:t.showPasswordOld}})]),a("label",[t._v("Nowe hasło:")]),a("div",{staticStyle:{position:"relative"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPass,expression:"newPass"}],staticClass:"form-control ng-touched ng-dirty ng-valid",attrs:{id:"new",type:"password",placeholder:"Nowe hasło"},domProps:{value:t.newPass},on:{input:function(e){e.target.composing||(t.newPass=e.target.value)}}}),a("i",{class:[1==t.showNew?"far fa-eye-slash":"far fa-eye"],on:{click:t.showPasswordNew}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.cancelClicked}},[t._v("Anuluj")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.confirmClicked}},[t._v("Potwierdź")])])])])])}),Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("Zmiana hasła")])])}],Ut={data:function(){return{oldPass:"",newPass:"",showOld:!1,showNew:!1}},methods:{showPasswordOld:function(){var t=document.getElementById("old");"password"===t.type?(t.type="text",this.showOld=!0):(t.type="password",this.showOld=!1)},showPasswordNew:function(){var t=document.getElementById("new");"password"===t.type?(t.type="text",this.showNew=!0):(t.type="password",this.showNew=!1)},confirmClicked:function(){var t=this;Le.commit("loadingState",!0),console.log("confirmClicked",this.$store.state.jwt),this.oldPass!=this.newPass?this.oldPass.length>=8&&this.newPass.length>=8?u.a.patch("/api/authentication/password/change",{oldPassword:this.oldPass,newPassword:this.newPass},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(e){var a=e.data;Le.commit("loadingState",!1),console.log("zwrotka zmiana hasła:",a),t.$parent.changePasswordClicked=!1})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)})):alert("Błąd! Hasła są puste lub krótsze niż 8 znaków"):alert("Błąd! Nowe hasło musi byc różne od starego")},cancelClicked:function(){console.log("cancelClicked"),this.$parent.changePasswordClicked=!1}}},Jt=Ut,Vt=(a("e162"),Object(g["a"])(Jt,Gt,Ft,!1,null,"574047b0",null)),Ht=Vt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",attrs:{id:"modal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.messageProps.title))])]),a("div",{staticClass:"modal-body"},[a("div",[a("div",{staticClass:"row"},[t._v(" "+t._s(t.messageProps.message)+" ")])])]),a("div",{staticClass:"modal-footer"},[1==t.$store.state.errorOcured?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.cancelClicked}},[t._v("OK")]):t._e(),0==t.$store.state.errorOcured?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:t.cancelClicked}},[t._v("Anuluj")]):t._e(),0==t.$store.state.errorOcured?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.confirmClicked}},[t._v("Potwierdź")]):t._e()])])])])},Xt=[],Qt={props:{messageProps:null},methods:{confirmClicked:function(){Le.commit("actionClicked","ok"),this.$emit("actionClicked",this.$store.state.gridAction)},cancelClicked:function(){Le.commit("actionClicked","cancel"),this.$emit("actionClicked",this.$store.state.gridAction)}}},te=Qt,ee=(a("2bb4"),Object(g["a"])(te,qt,Xt,!1,null,"dbcfe07c",null)),ae=(ee.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1==t.$parent.isWarehouseClicked?a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"WHGrid",columnDefs:t.columnDefs,rowData:t.$parent.warehouseData,editType:t.editType,rowSelection:"single",defaultColDef:t.defaultColDef,localeText:t.localeText,pagination:!1,paginationPageSize:t.paginationPageSize,animateRows:!0,suppressDragLeaveHidesColumns:!0,rowMultiSelectWithClick:!0,headerHeight:32,suppressColumnVirtualisation:!0},on:{"grid-ready":t.onGridReady,rowDataChanged:t.onRowDataChanged}}):t._e()}),ie=[],oe={data:function(){return{columnDefs:null,localeText:null,editType:"fullRow",defaultColDef:null,paginationPageSize:null}},components:{AgGridVue:st["AgGridVue"]},methods:{onRowDataChanged:function(t){console.log("onRowDataChanged"),this.gridApi=t.api,this.columnApi=t.columnApi;var e=[];this.columnApi.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApi.autoSizeColumns(e,!1);var a=null,i=0,o=this.columnApi.getColumnState(),n=window.document.getElementById("WHGrid");for(var s in o)console.log(o[s].width),i+=o[s].width,2==o[s].colId&&(a=o[s]);i<n.offsetWidth&&this.columnApi.applyColumnState({state:[{colId:a.colId,width:n.offsetWidth-i+a.width-2}]})},onGridReady:function(t){console.log("onGridReady"),this.gridApi=t.api,this.columnApi=t.columnApi}},beforeMount:function(){"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,this.columnDefs=[{headerName:"Artykuł kod",field:"ARTYKUL_KOD",colId:1},{headerName:"Artykuł nazwa",field:"ARTYKUL_NAZWA1",colId:2},{headerName:"Artykuł nazwa 2",field:"ARTYKUL_NAZWA2",colId:3},{headerName:"Ilość",field:"SALDO",colId:4,type:"rightAligned",valueFormatter:currencyFormatter},{headerName:"J.m",field:"JEDNOSTKI_KOD",colId:5},{headerName:"Ilość",field:"SALDO_1",colId:4,type:"rightAligned",valueFormatter:currencyFormatter},{headerName:"J.m",field:"JEDNOSTKI1_KOD",colId:5},{headerName:"Ilość",field:"SALDO_2",valueFormatter:currencyFormatter,colId:4,type:"rightAligned"},{headerName:"J.m",field:"JEDNOSTKI2_KOD",colId:5}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1},this.paginationPageSize=20}};window.currencyFormatter=function(t){if(null!=t.value)return parseInt(t.value).toFixed(3)};var ne=oe,se=Object(g["a"])(ne,ae,ie,!1,null,null,null),re=se.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("div",{staticClass:"section first"},[a("button",{class:[1==t.$parent.isCurrentClicked?"clicked":"notclicked"],on:{click:t.$parent.currentClicked}},[t._m(0),t._v("Moje dyspozycje ")]),a("button",{class:[1==t.$parent.isArchivedClicked?"clicked":"notclicked"],on:{click:t.$parent.archivedClicked}},[t._m(1),t._v("Archiwum ")])])])},ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon-container"},[a("i",{staticClass:"fas fa-list-ul"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon-container"},[a("i",{staticClass:"fas fa-archive"})])}],de={name:"LeftMenu",data:function(){return{}}},ue=de,he=(a("9fe5"),Object(g["a"])(ue,le,ce,!1,null,"528063e9",null)),pe=he.exports,fe={template:'<div class="action-container">\n<i class="fas fa-print" @click="printClicked"></i>\n<i class="far fa-trash-alt" @click="deleteClicked"></i>\n            </div>',methods:{printClicked:function(){Le.commit("actionClicked","print"),console.log(this.$store.state.gridAction)},deleteClicked:function(){Le.commit("actionClicked","delete")}}},me={template:'<div class="action-container">\n<i class="far fa-trash-alt"></i>\n            </div>',methods:{clickRow:function(){Le.commit("actionClicked","openDetails")}}},ge={name:"Grid",data:function(){return{columnDefs:null,columnDefs2:null,columnDefs3:null,mainRowData:null,secondRowData:null,editType:"fullRow",defaultColDef:null,localeText:null,paginationPageSize:null,addIsClicked:!1,rowlist:[],printIsClicked:!1,showAlert:!1,nodeToDelete:null,showSecondGrid:!1,changePasswordClicked:!1,oldCellValue:null,currentType:null,isArchivedClicked:!1,isCurrentClicked:!0,showSetMaxBtn:!1,isWarehouseClicked:!1,warehouseData:null,messageProps:{message:null,title:null}}},components:{AgGridVue:st["AgGridVue"],agGridActions:fe,agGridActionsDelete:me,Header:zt,Header2:Kt,PasswordModal:Ht,LeftMenu:pe,Warehouse:re},methods:{warehouseClicked:function(){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getWHInfo();case 2:t.isCurrentClicked=!1,t.isArchivedClicked=!1,t.showSecondGrid=!1;case 5:case"end":return e.stop()}}),e)})))()},getWHInfo:function(t,e){var a=this;Le.commit("loadingState",!0),u.a.get("/api/warehouse/get",{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var e=t.data;Le.commit("loadingState",!1),console.log("specs data",e),a.isWarehouseClicked=!0,a.warehouseData=e})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},onSpecRowClicked:function(t){var e=this.gridApi2.getSelectedNodes();console.log("selectedNodes",e),null!=e&&e.length>0?this.showSetMaxBtn=!0:this.showSetMaxBtn=!1},setMaxQuantity:function(){console.log("setMaxQuantity");var t=this.gridApi2.getSelectedNodes(),e=t.map((function(t){return t.data}));for(var a in e)this.setQuantityMax(e[a])},setQuantityMax:function(t){var e=this;Le.commit("loadingState",!0),u.a.patch("/api/specs/".concat(t.ID,"/").concat(this.currentType,"/").concat(t.ILOSC_PLAN,"/update"),{},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(a){var i=a.data;if(console.log("ZWROTKA update",i),i.KOD_BLEDU<0)alert("Wystąpił błąd");else{t.ILOSC_WYK=t.ILOSC_PLAN;var o=[];o.push(t);var n=e.gridApi2.applyTransaction({update:o});console.log("res grid",n)}Le.commit("loadingState",!1)})).catch((function(t){console.log(t),Le.commit("loadingState",!1),alert(t)}))},checkColumnDefs:function(){return 1==this.isCurrentClicked?this.columnDefs2:this.columnDefs3},currentClicked:function(){this.isCurrentClicked=!0,this.isArchivedClicked=!1,this.isWarehouseClicked=!1,this.getHeaders()},archivedClicked:function(){console.log("archivedClicked"),this.isArchivedClicked=!0,this.isCurrentClicked=!1,this.isWarehouseClicked=!1,this.getHeaders()},onCellClicked:function(t){if(1==this.isCurrentClicked){var e=this.gridApi2.getFocusedCell(),a=(this.gridApi2.getDisplayedRowAtIndex(e.rowIndex),this.gridApi2.getSelectedNodes());a.map((function(t){return t.data}));"ILOSC_WYK"==e.column.colDef.field&&this.gridApi2.startEditingCell({rowIndex:e.rowIndex,colKey:"ILOSC_WYK"})}},onCellEditingStarted:function(t){this.oldCellValue=parseInt(t.data.ILOSC_WYK)},rollbackValue:function(t){var e=[];for(var a in this.secondRowData)if(this.secondRowData[a].ID==t.data.ID){this.secondRowData[a].ILOSC_WYK=this.oldCellValue,e.push(this.secondRowData[a]);var i=this.gridApi2.applyTransaction({update:e});console.log("res grid flag",i)}},onCellEditingStopped:function(t){var e=this,a=parseInt(t.data.ILOSC_WYK);null==a||a<0||isNaN(a)||a>t.data.ILOSC_PLAN?(alert("Zła wartość"),this.rollbackValue(t)):u.a.patch("/api/specs/".concat(t.data.ID,"/").concat(this.currentType,"/").concat(a,"/update"),{},{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(a){var i=a.data;console.log("ZWROTKA update",i),i.KOD_BLEDU<0&&(alert("Wystąpił błąd"),e.rollbackValue(t)),Le.commit("loadingState",!1)})).catch((function(a){console.log(a),Le.commit("loadingState",!1),alert(a),e.rollbackValue(t)}))},onRowClicked:function(t){var e=this.gridApi.getSelectedNodes();e.length>0?(this.currentType=t.data.TYP,this.getSpecs(t.data.ID,t.data.TYP)):this.showSecondGrid=!1},getSpecs:function(t,e){var a=this;Le.commit("loadingState",!0),u.a.get("/api/specs/".concat(t,"/").concat(e,"/get"),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var e=t.data;Le.commit("loadingState",!1),console.log("specs data",e),e[0].KOD_BLEDU<0?(alert("Brak rekordów do wyświetlenia"),a.showSecondGrid=!1):(a.secondRowData=e,a.showSecondGrid=!0)})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},getHeaders:function(){var t,e=this;this.showSecondGrid=!1,t=1==this.isArchivedClicked?1:0,Le.commit("loadingState",!0),u.a.get("/api/headers/".concat(t,"/get"),{headers:{Authorization:"Bearer ".concat(this.$store.state.jwt)}}).then((function(t){var a=t.data;Le.commit("loadingState",!1),console.log("headers data",a),a[0].KOD_BLEDU<0?(alert("Brak rekordów do wyświetlenia"),e.mainRowData=null):e.mainRowData=a})).catch((function(t){alert(t),console.log(t),Le.commit("loadingState",!1)}))},onRowDataChanged:function(t){console.log("onRowDataChanged"),this.gridApi2=t.api,this.columnApi2=t.columnApi;var e=[];this.columnApi2.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApi2.autoSizeColumns(e,!1);var a=null,i=0,o=this.columnApi2.getColumnState(),n=window.document.getElementById("customDuoGrid2");for(var s in o)console.log(o[s].width),i+=o[s].width,a=o[s];i<n.offsetWidth&&this.columnApi2.applyColumnState({state:[{colId:a.colId,width:n.offsetWidth-i+a.width-2}]})},onGridReady2:function(t){console.log("onGridReady2"),this.gridApi2=t.api,this.columnApi2=t.columnApi;var e=[];this.columnApi2.getAllColumns().forEach((function(t){e.push(t.colId)})),this.columnApi2.autoSizeColumns(e,!1),this.onRowDataChanged(t)},onGridReady:function(t){console.log("onGridReady"),this.gridApi=t.api,this.columnApi=t.columnApi,this.gridApi.sizeColumnsToFit()},onGridSizeChanged:function(t){console.log("onGridSizeChanged"),this.gridApi=t.api,this.columnApi=t.columnApi,this.gridApi.sizeColumnsToFit()}},mounted:function(){},beforeMount:function(){"pl"==navigator.language||"pl-PL"==navigator.language?this.localeText=z.pl:this.localeText=z.en,this.columnDefs=[{headerName:"Typ",field:"TYP",colId:1,maxWidth:120},{headerName:"Termin",field:"DATA_PROD",colId:2,maxWidth:160,type:"rightAligned"},{headerName:"Kod",field:"NAG_KOD",colId:3,maxWidth:200},{headerName:"Opis",field:"NAG_OPIS",colId:4,minWidth:140},{headerName:"Status",field:"STATUS",colId:5,maxWidth:130,type:"rightAligned"},{headerName:"Uwagi",field:"UWAGI",colId:6,minWidth:140}],this.columnDefs2=[{headerName:"NS",field:"ZAMOWIENIA_SPEC_ID",colId:1,type:"rightAligned",headerCheckboxSelection:!0,checkboxSelection:!0},{headerName:"Artykuł kod",field:"ARTYKUL_KOD",colId:2},{headerName:"Artykuł nazwa",field:"NAZWA1",colId:3},{headerName:"Realizacja",field:"REALIZACJA",colId:4},{headerName:"Ilość wyk.",field:"ILOSC_WYK",colId:"ILOSC_WYK",editable:!0,valueFormatter:currencyFormatter,type:"rightAligned"},{headerName:"Ilość plan.",field:"ILOSC_PLAN",colId:5,valueFormatter:currencyFormatter,type:"rightAligned"},{headerName:"Uwagi",field:"UWAGI",colId:6}],this.columnDefs3=[{headerName:"NS",field:"ZAMOWIENIA_SPEC_ID",colId:1,type:"rightAligned"},{headerName:"Artykuł kod",field:"ARTYKUL_KOD",colId:2},{headerName:"Artykuł nazwa",field:"NAZWA1",colId:3},{headerName:"Realizacja",field:"REALIZACJA",colId:4},{headerName:"Ilość wyk.",field:"ILOSC_WYK",colId:"ILOSC_WYK",editable:!1,type:"rightAligned",valueFormatter:currencyFormatter},{headerName:"Ilość plan.",field:"ILOSC_PLAN",colId:5,valueFormatter:currencyFormatter,type:"rightAligned"},{headerName:"Uwagi",field:"UWAGI",colId:6}],this.defaultColDef={flex:1,editable:!1,sortable:!0,filter:!1,floatingFilter:!1},this.paginationPageSize=20}};window.currencyFormatter=function(t){if(null!=t.value)return parseInt(t.value).toFixed(3)},window.dateFormatter=function(t){if(null!=t.value){var e=y()(new Date(t.value)).format("YYYY-MM-DD");return e}};var Ce=ge,ve=(a("e90e"),Object(g["a"])(Ce,Rt,$t,!1,null,null,null)),Se=ve.exports,ke=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropback",attrs:{id:"dropback"}},[a("div",{staticClass:"lds-roller"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])])}],we={},Ae=we,ye=(a("68a1"),Object(g["a"])(Ae,ke,De,!1,null,"d9c87404",null)),be=ye.exports,_e={name:"Home",components:{Header:zt,GridDuo:Se,Dropback:be},data:function(){return{}},mounted:function(){}},Ie=_e,Oe=(a("86fa"),Object(g["a"])(Ie,yt,bt,!1,null,"5ec4a034",null)),xe=Oe.exports;i["a"].use(r["a"]);var Te=function(){},ze=[{path:"/login",name:"Login",component:v},{path:"/grid",name:"DuoGridView",meta:{requiresLogin:!0},component:xe},{path:"/",name:"MainView",component:it,meta:{requiresLogin:!0}},{path:"/materials",name:"BeforeCart",component:dt,meta:{requiresLogin:!0}},{path:"/cart",name:"FullCart",component:Ct,meta:{requiresLogin:!0}},{path:"/myDispositions",name:"MyDispositions",component:At,meta:{requiresLogin:!0}}],Re=new r["a"]({mode:"history",base:"/",routes:ze});Re.beforeEach((function(t,e,a){"Login"==t.name&&null!=Le.state.jwt?a({name:"MainView"}):a()}));var $e=Re;i["a"].use(s["a"]);var Le=new s["a"].Store({state:{gridAction:2,gridSetting:1,gridSearchData:[],loading:!1,comment:!1,errorOcured:!1,user:null,jwt:null,isUserLogged:!1,expires:null,changeView:!1,password:null,beforeCartData:null,selectedOrder:null,warehousesData:null,departmentsData:null},mutations:{departmentsData:function(t,e){t.departmentsData=e},warehousesData:function(t,e){t.warehousesData=e},selectedOrder:function(t,e){t.selectedOrder=e},beforeCartData:function(t,e){t.beforeCartData=e},actionClicked:function(t,e){t.gridAction=e},jwt:function(t,e){t.jwt=e},gridSetting:function(t,e){t.gridSetting=e},loadingState:function(t,e){t.loading=e},userLogged:function(t,e){t.isUserLogged=e},commentIsClicked:function(t,e){t.comment=e},errorHappen:function(t,e){t.errorOcured=e},user:function(t,e){t.user=e},logOut:function(){Te()},decryptedPassword:function(t,e){t.password=e}},actions:{},modules:{}});i["a"].use(p.a);var je={components:{Dropback:be},beforeCreate:function(){if(console.log("Route:",this.$route),this.$cookies.isKey("ITMDyspozycja")){var t=this.$cookies.get("ITMDyspozycja");Le.commit("user",t.user),Le.commit("jwt",t.jwt),"Login"!=this.$router.currentRoute.name&&"BeforeCart"!=this.$router.currentRoute.name||this.$router.push({name:"MainView"})}else"Login"!=this.$router.currentRoute.name&&this.$router.push({name:"Login"})}},Ee=je,Ne=(a("034f"),Object(g["a"])(Ee,o,n,!1,null,null,null)),Ze=Ne.exports,Ke=a("5385");i["a"].use(Ke["a"]),i["a"].config.productionTip=!1;var Pe=new i["a"]({data:{department1:null,department2:null,department3:null,department4:null,department5:null,department6:null,department7:null,department8:null}});new i["a"]({router:$e,store:Le,render:function(t){return t(Ze)}}).$mount("#app")},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},ddcf:function(t,e,a){"use strict";var i=a("ca4f"),o=a.n(i);o.a},e162:function(t,e,a){"use strict";var i=a("a59a"),o=a.n(i);o.a},e752:function(t,e,a){"use strict";var i=a("5eef"),o=a.n(i);o.a},e90e:function(t,e,a){"use strict";var i=a("a0be"),o=a.n(i);o.a},f545:function(t,e,a){"use strict";var i=a("b679"),o=a.n(i);o.a},f5dc:function(t,e,a){"use strict";var i=a("b335"),o=a.n(i);o.a}});
//# sourceMappingURL=app.7b3f4f1a.js.map